{"ast":null,"code":"import _toConsumableArray from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _createForOfIteratorHelper from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/regenerator/index.js\";import store from'../store';import{setState}from'../actions/allEvents';import SingleEvent from'../components/SingleEvent';import{jsx as _jsx}from\"react/jsx-runtime\";export function getState(str){if(str[0]!=='\"')return JSON.parse(str);return JSON.parse(str.slice(1,-1));}export function equalArrays(arr1,arr2){return arr1.length===arr2.length&&arr1.every(function(val,idx){return val===arr2[idx];});}export function addEvent(_x,_x2,_x3,_x4,_x5,_x6){return _addEvent.apply(this,arguments);}function _addEvent(){_addEvent=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(title,text,activeDate,activeLabels,activeProjects,activePriority){var processedLabels,allLabels,i,processedProjects,allProjects,_i,newEvent,state;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:processedLabels=[];allLabels=store.getState().allEvents.labels;for(i=0;i<activeLabels.length;++i){if(allLabels.indexOf(activeLabels[i])!==-1)processedLabels.push(activeLabels[i]);}processedProjects=[];allProjects=store.getState().allEvents.projects;for(_i=0;_i<activeProjects.length;++_i){if(allProjects.indexOf(activeProjects[_i])!==-1)processedProjects.push(activeProjects[_i]);}newEvent={title:title,text:text,activeDate:activeDate,activeLabels:processedLabels,activeProjects:processedProjects,activePriority:activePriority};state=JSON.parse(JSON.stringify(store.getState().allEvents));state.events.push(newEvent);_context.next=11;return store.dispatch(setState(state));case 11:case\"end\":return _context.stop();}}},_callee);}));return _addEvent.apply(this,arguments);}export function getDisplayEvents(eventsArr){var res=[];var _iterator=_createForOfIteratorHelper(eventsArr),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var eventObj=_step.value;res.push(/*#__PURE__*/_jsx(SingleEvent,{eventIndex:eventObj.eventIndex,title:eventObj.title,text:eventObj.text,activeDate:_toConsumableArray(eventObj.activeDate),activeLabels:_toConsumableArray(eventObj.activeLabels),activeProjects:_toConsumableArray(eventObj.activeProjects),activePriority:eventObj.activePriority},Math.random()));}}catch(err){_iterator.e(err);}finally{_iterator.f();}return res;}function isSubArray(sourceArr,subArr){for(var i=0;i<subArr.length;++i){if(sourceArr.indexOf(subArr[i])===-1)return false;}return true;}function fulfill(event,conditions){for(var i in conditions){if(i==='activeDate'){if(!equalArrays(event.activeDate,conditions[i]))return false;}else if(i==='activeLabels'){if(!isSubArray(event.activeLabels,conditions[i]))return false;}else if(i==='activeProjects'){if(!isSubArray(event.activeProjects,conditions[i]))return false;}else if(i==='activePriority'){if(event.activePriority!==conditions[i])return false;}}return true;}export function filterEvents(conditions,allEvents){var res=[];var sourceEvents=_toConsumableArray(allEvents);var length=sourceEvents.length;for(var i=0;i<length;++i){if(fulfill(sourceEvents[i],conditions)){var tmp=Object.assign({},sourceEvents[i]);tmp.eventIndex=i;res.push(tmp);}}return res;}","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/utils/redux.js"],"names":["store","setState","SingleEvent","getState","str","JSON","parse","slice","equalArrays","arr1","arr2","length","every","val","idx","addEvent","title","text","activeDate","activeLabels","activeProjects","activePriority","processedLabels","allLabels","allEvents","labels","i","indexOf","push","processedProjects","allProjects","projects","newEvent","state","stringify","events","dispatch","getDisplayEvents","eventsArr","res","eventObj","eventIndex","Math","random","isSubArray","sourceArr","subArr","fulfill","event","conditions","filterEvents","sourceEvents","tmp","Object","assign"],"mappings":"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","sourcesContent":["import store from '../store';\nimport { setState } from '../actions/allEvents';\nimport SingleEvent from '../components/SingleEvent';\n\nexport function getState(str) {\n    if(str[0] !== '\"') return JSON.parse(str);\n    return JSON.parse(str.slice(1, -1));\n}\n\nexport function equalArrays(arr1, arr2) {\n    return arr1.length === arr2.length && arr1.every((val, idx) => val === arr2[idx]);\n}\n\nexport async function addEvent(title, text, activeDate, activeLabels, activeProjects, activePriority) {\n    let processedLabels = [];\n    let allLabels = store.getState().allEvents.labels;\n    for(let i = 0; i < activeLabels.length; ++i) {\n        if(allLabels.indexOf(activeLabels[i]) !== -1) processedLabels.push(activeLabels[i]);\n    }\n    let processedProjects = [];\n    let allProjects = store.getState().allEvents.projects;\n    for(let i = 0; i < activeProjects.length; ++i) {\n        if(allProjects.indexOf(activeProjects[i]) !== -1) processedProjects.push(activeProjects[i]);\n    }\n    let newEvent = {\n        title: title,\n        text: text,\n        activeDate: activeDate,\n        activeLabels: processedLabels,\n        activeProjects: processedProjects,\n        activePriority: activePriority,\n    }\n    let state = JSON.parse(JSON.stringify(store.getState().allEvents));\n    state.events.push(newEvent);\n    await store.dispatch(setState(state));\n}\n\nexport function getDisplayEvents(eventsArr) {\n    let res = [];\n    for(let eventObj of eventsArr) {\n        res.push(<SingleEvent \n            key={Math.random()}\n            eventIndex={eventObj.eventIndex} \n            title={eventObj.title} \n            text={eventObj.text} \n            activeDate={[...eventObj.activeDate]}\n            activeLabels={[...eventObj.activeLabels]}\n            activeProjects={[...eventObj.activeProjects]}\n            activePriority={eventObj.activePriority}/>)\n    }\n\n    return res;\n}\n\nfunction isSubArray(sourceArr, subArr) {\n    for(let i = 0; i < subArr.length; ++i) {\n        if(sourceArr.indexOf(subArr[i]) === -1) return false;\n    }\n    return true;\n}\n\nfunction fulfill(event, conditions) {\n    for(let i in conditions) {\n        if(i === 'activeDate') {\n            if(!equalArrays(event.activeDate, conditions[i])) return false;\n        }\n        else if(i === 'activeLabels') {\n            if(!isSubArray(event.activeLabels, conditions[i])) return false;\n        }\n        else if(i === 'activeProjects') {\n            if(!isSubArray(event.activeProjects, conditions[i])) return false;\n        }\n        else if(i === 'activePriority') {\n            if(event.activePriority !== conditions[i]) return false;\n        }\n    }\n    return true;\n}\n\nexport function filterEvents(conditions, allEvents) {\n    let res = [];\n    let sourceEvents = [...allEvents];\n    let length = sourceEvents.length;\n    for(let i = 0; i < length; ++i) {\n        if(fulfill(sourceEvents[i], conditions)) {\n            let tmp = Object.assign({}, sourceEvents[i]);\n            tmp.eventIndex = i;\n            res.push(tmp);\n        }\n    }\n    return res;\n}"]},"metadata":{},"sourceType":"module"}