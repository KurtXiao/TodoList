{"ast":null,"code":"var _jsxFileName = \"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/AllProjects.js\";\nimport React from \"react\";\nimport '../styles/AllProjects.css';\nimport controlSign from '../images/control.png';\nimport addition from '../images/addition.png';\nimport projectSign from '../images/project.png';\nimport SingleProject from './SingleProject';\nimport store from \"../store\";\nimport { equalArrays } from \"../utils/redux\";\nimport { setState } from \"../actions/allEvents\";\nimport { updateState } from '../utils/server';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AllProjects extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      displayAddProject: 'none',\n      displayProjects: 'none',\n      projects: [],\n      name: ''\n    };\n  }\n\n  async componentDidMount() {\n    await store.subscribe(this.handleProjectsChange.bind(this));\n  }\n\n  handleProjectsChange() {\n    var _store$getState$allEv;\n\n    let newProjects = (_store$getState$allEv = store.getState().allEvents) === null || _store$getState$allEv === void 0 ? void 0 : _store$getState$allEv.projects;\n\n    if (newProjects && !equalArrays(newProjects, this.state.projects)) {\n      this.setState({\n        projects: [...newProjects]\n      });\n    }\n  }\n\n  displayAddProject() {\n    this.setState({\n      displayAddProject: this.state.displayAddProject === 'none' ? 'block' : 'none'\n    });\n  }\n\n  displayProjects() {\n    let displayVal = this.state.displayProjects === 'none' ? 'block' : 'none';\n    if (this.state.projects.length === 0) displayVal = 'none';\n    this.setState({\n      displayProjects: displayVal\n    });\n  }\n\n  getProjects(projects) {\n    let arr = [];\n\n    for (let i = 0; i < projects.length; ++i) {\n      arr.push( /*#__PURE__*/_jsxDEV(SingleProject, {\n        name: projects[i]\n      }, Math.random(), false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 22\n      }, this));\n    }\n\n    return arr;\n  }\n\n  handleInputValue(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  async addProject() {\n    if (this.state.name === '') {\n      alert('Project name must not be empty!');\n      return;\n    }\n\n    if (store.getState().allEvents.projects.indexOf(this.state.name) !== -1) {\n      alert('Repeated project name!');\n      return;\n    }\n\n    let state = Object.assign({}, store.getState().allEvents);\n    state.projects.push(this.state.name);\n    await store.dispatch(setState(state));\n    this.setState({\n      displayAddProject: 'none',\n      name: ''\n    });\n    updateState();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"project-controller\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addition\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"addition-arrow\",\n          src: controlSign,\n          onClick: this.displayProjects.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"addition-text\",\n          onClick: this.displayProjects.bind(this),\n          children: \"Projects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"addition-sign\",\n          src: addition,\n          onClick: this.displayAddProject.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"single-label-wrapper\",\n        style: {\n          display: this.state.displayProjects\n        },\n        children: this.getProjects(this.state.projects)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-label\",\n        style: {\n          display: this.state.displayAddProject\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"add-label-image\",\n          src: projectSign\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.name,\n          className: \"add-label-name\",\n          onChange: this.handleInputValue.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.addProject.bind(this),\n          className: \"add-label-confirm\",\n          children: \"\\u786E\\u8BA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default AllProjects;","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/AllProjects.js"],"names":["React","controlSign","addition","projectSign","SingleProject","store","equalArrays","setState","updateState","AllProjects","Component","constructor","props","state","displayAddProject","displayProjects","projects","name","componentDidMount","subscribe","handleProjectsChange","bind","newProjects","getState","allEvents","displayVal","length","getProjects","arr","i","push","Math","random","handleInputValue","e","target","value","addProject","alert","indexOf","Object","assign","dispatch","render","display"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../styles/AllProjects.css';\nimport controlSign from '../images/control.png';\nimport addition from '../images/addition.png';\nimport projectSign from '../images/project.png';\nimport SingleProject from './SingleProject';\nimport store from \"../store\";\nimport { equalArrays } from \"../utils/redux\";\nimport { setState } from \"../actions/allEvents\";\nimport { updateState } from '../utils/server';\n\nclass AllProjects extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            displayAddProject: 'none',\n            displayProjects: 'none',\n            projects: [],\n            name: '',\n        }\n    }\n    async componentDidMount() {\n        await store.subscribe(this.handleProjectsChange.bind(this));\n    }\n    handleProjectsChange() {\n        let newProjects = store.getState().allEvents?.projects;\n        if(newProjects && !equalArrays(newProjects, this.state.projects)) {\n            this.setState({\n                projects: [...newProjects]\n            })\n        }\n    }\n    displayAddProject() {\n        this.setState({\n            displayAddProject: this.state.displayAddProject === 'none' ? 'block' : 'none'\n        });\n    }\n    displayProjects() {\n        let displayVal = this.state.displayProjects === 'none' ? 'block' : 'none';\n        if(this.state.projects.length === 0) displayVal = 'none';\n        this.setState({\n            displayProjects: displayVal\n        })\n    }\n    getProjects(projects) {\n        let arr = [];\n        for(let i = 0; i < projects.length; ++i) {\n            arr.push(<SingleProject key={Math.random()} name={projects[i]}/>);\n        }\n        return arr;\n    }\n    handleInputValue(e) {\n        this.setState({\n            name: e.target.value\n        });\n    }\n    async addProject() {\n        if(this.state.name === '') {\n            alert('Project name must not be empty!');\n            return;\n        }\n        if(store.getState().allEvents.projects.indexOf(this.state.name) !== -1) {\n            alert('Repeated project name!');\n            return;\n        }\n        let state = Object.assign({}, store.getState().allEvents);\n        state.projects.push(this.state.name);\n        await store.dispatch(setState(state));\n        this.setState({\n            displayAddProject: 'none',\n            name: ''\n        });\n        updateState();\n    }\n    render() {\n        return <div className=\"project-controller\">\n            <div className=\"addition\">\n                <img className=\"addition-arrow\" src={controlSign} onClick={this.displayProjects.bind(this)}/>\n                <span className=\"addition-text\" onClick={this.displayProjects.bind(this)}>Projects</span>\n                <img className=\"addition-sign\" src={addition} onClick={this.displayAddProject.bind(this)}/>\n            </div>\n            <div className=\"single-label-wrapper\" style={{display: this.state.displayProjects}}>\n                {this.getProjects(this.state.projects)}\n            </div>\n            <div className='add-label' style={{display: this.state.displayAddProject}}>\n                <img className='add-label-image' src={projectSign}/>\n                <input value={this.state.name} className='add-label-name' onChange={this.handleInputValue.bind(this)}/>\n                <button onClick={this.addProject.bind(this)} className='add-label-confirm'>确认</button>\n            </div>\n        </div>;\n    }\n}\n\nexport default AllProjects;"]},"metadata":{},"sourceType":"module"}