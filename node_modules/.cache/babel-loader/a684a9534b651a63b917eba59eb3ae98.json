{"ast":null,"code":"var _jsxFileName = \"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/Home.js\";\nimport React from \"react\";\nimport '../styles/Home.css';\nimport { postToServer } from '../utils/server';\nimport { withRouter } from \"react-router\";\nimport store from '../store';\nimport { setUsername } from '../actions/userInfo';\nimport { INVALID_USERNAME, WRONG_PASSWORD } from '../utils/constants';\nimport Snowflakes from './Snowflakes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  async login() {\n    let username = this.state.username;\n    let password = this.state.password;\n\n    if (username === '' || password === '') {\n      alert('Username and password must not be empty!');\n      return;\n    }\n\n    let res = await postToServer('/login', {\n      username: username,\n      password: password\n    });\n\n    if (res === WRONG_PASSWORD) {\n      alert(\"Invalid password!\");\n      return;\n    }\n\n    if (res === INVALID_USERNAME) {\n      alert(\"Invalid username!\");\n      return;\n    }\n\n    await store.dispatch(setUsername(username));\n    this.props.history.push('/Interface');\n  }\n\n  async register() {\n    let username = this.state.username;\n    let password = this.state.password;\n\n    if (username === '' || password === '') {\n      alert('Username and password must not be empty!');\n      return;\n    }\n\n    let res = await postToServer('/register', {\n      username: username,\n      password: password\n    });\n\n    if (!res) {\n      alert('Username has been taken!');\n      return;\n    }\n\n    await store.dispatch(setUsername(username));\n    this.props.history.push('/Interface');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Snowflakes, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Home);\n/*\n\n<p className=\"phrase-I\">HAPPINESS IS</p>\n            <p className=\"phrase-II\">...finishing a to-do list.</p>\n            <span className=\"cue-word\">Username</span>\n            <input name=\"username\" onChange={this.handleInputChange.bind(this)} className=\"user-input\"/>\n            <span className=\"cue-word\">Password</span>\n            <input name=\"password\" onChange={this.handleInputChange.bind(this)} className=\"user-input\"/>\n            <button onClick={this.login.bind(this)} className=\"log-in\">Log in</button>\n            <button onClick={this.register.bind(this)} className=\"sign-up\">Sign up</button>\n\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/Home.js"],"names":["React","postToServer","withRouter","store","setUsername","INVALID_USERNAME","WRONG_PASSWORD","Snowflakes","Home","Component","constructor","props","state","username","password","handleInputChange","e","setState","target","name","value","login","alert","res","dispatch","history","push","register","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,gBAAT,EAA2BC,cAA3B,QAAgD,oBAAhD;AACA,OAAOC,UAAP,MAAuB,cAAvB;;;AAEA,MAAMC,IAAN,SAAmBR,KAAK,CAACS,SAAzB,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIH;;AACDC,EAAAA,iBAAiB,CAACC,CAAD,EAAI;AACjB,SAAKC,QAAL,CAAc;AACV,OAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADhB,KAAd;AAGH;;AACU,QAALC,KAAK,GAAG;AACV,QAAIR,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;AACA,QAAIC,QAAQ,GAAG,KAAKF,KAAL,CAAWE,QAA1B;;AACA,QAAGD,QAAQ,KAAK,EAAb,IAAmBC,QAAQ,KAAK,EAAnC,EAAuC;AACnCQ,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACA;AACH;;AACD,QAAIC,GAAG,GAAG,MAAMtB,YAAY,CAAC,QAAD,EAAW;AAACY,MAAAA,QAAQ,EAAEA,QAAX;AAAqBC,MAAAA,QAAQ,EAAEA;AAA/B,KAAX,CAA5B;;AACA,QAAGS,GAAG,KAAKjB,cAAX,EAA2B;AACvBgB,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACA;AACH;;AACD,QAAGC,GAAG,KAAKlB,gBAAX,EAA6B;AACzBiB,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACA;AACH;;AACD,UAAMnB,KAAK,CAACqB,QAAN,CAAepB,WAAW,CAACS,QAAD,CAA1B,CAAN;AACA,SAAKF,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH;;AACa,QAARC,QAAQ,GAAG;AACb,QAAId,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;AACA,QAAIC,QAAQ,GAAG,KAAKF,KAAL,CAAWE,QAA1B;;AACA,QAAGD,QAAQ,KAAK,EAAb,IAAmBC,QAAQ,KAAK,EAAnC,EAAuC;AACnCQ,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACA;AACH;;AACD,QAAIC,GAAG,GAAG,MAAMtB,YAAY,CAAC,WAAD,EAAc;AAACY,MAAAA,QAAQ,EAAEA,QAAX;AAAqBC,MAAAA,QAAQ,EAAEA;AAA/B,KAAd,CAA5B;;AACA,QAAG,CAACS,GAAJ,EAAS;AACLD,MAAAA,KAAK,CAAC,0BAAD,CAAL;AACA;AACH;;AACD,UAAMnB,KAAK,CAACqB,QAAN,CAAepB,WAAW,CAACS,QAAD,CAA1B,CAAN;AACA,SAAKF,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH;;AACDE,EAAAA,MAAM,GAAG;AACL,wBAAO,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAjD8B;;AAoDnC,oBAAe1B,UAAU,CAACM,IAAD,CAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from \"react\";\nimport '../styles/Home.css';\nimport { postToServer } from '../utils/server';\nimport { withRouter } from \"react-router\";\nimport store from '../store';\nimport { setUsername } from '../actions/userInfo';\nimport { INVALID_USERNAME, WRONG_PASSWORD} from '../utils/constants';\nimport Snowflakes from './Snowflakes';\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: \"\",\n            password: \"\",\n        }\n    }\n    handleInputChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    }\n    async login() {\n        let username = this.state.username;\n        let password = this.state.password;\n        if(username === '' || password === '') {\n            alert('Username and password must not be empty!');\n            return;\n        }\n        let res = await postToServer('/login', {username: username, password: password});\n        if(res === WRONG_PASSWORD) {\n            alert(\"Invalid password!\");\n            return;\n        }\n        if(res === INVALID_USERNAME) {\n            alert(\"Invalid username!\");\n            return;\n        }\n        await store.dispatch(setUsername(username));\n        this.props.history.push('/Interface');\n    }\n    async register() {\n        let username = this.state.username;\n        let password = this.state.password;\n        if(username === '' || password === '') {\n            alert('Username and password must not be empty!');\n            return;\n        }\n        let res = await postToServer('/register', {username: username, password: password});\n        if(!res) {\n            alert('Username has been taken!');\n            return;\n        }\n        await store.dispatch(setUsername(username));\n        this.props.history.push('/Interface');\n    }\n    render() {\n        return <Snowflakes />\n    }\n}\n\nexport default withRouter(Home);\n\n/*\n\n<p className=\"phrase-I\">HAPPINESS IS</p>\n            <p className=\"phrase-II\">...finishing a to-do list.</p>\n            <span className=\"cue-word\">Username</span>\n            <input name=\"username\" onChange={this.handleInputChange.bind(this)} className=\"user-input\"/>\n            <span className=\"cue-word\">Password</span>\n            <input name=\"password\" onChange={this.handleInputChange.bind(this)} className=\"user-input\"/>\n            <button onClick={this.login.bind(this)} className=\"log-in\">Log in</button>\n            <button onClick={this.register.bind(this)} className=\"sign-up\">Sign up</button>\n\n*/"]},"metadata":{},"sourceType":"module"}