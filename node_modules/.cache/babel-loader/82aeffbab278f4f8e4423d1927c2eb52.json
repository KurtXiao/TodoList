{"ast":null,"code":"var _jsxFileName = \"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/AllItems.js\";\nimport React from \"react\";\nimport '../styles/AllItems.css';\nimport controlSign from '../images/control.png';\nimport addition from '../images/addition.png';\nimport confirmSign from '../images/confirmOrange.png';\nimport SingleItem from \"./SingleItem\";\nimport store from \"../store\";\nimport { equalArrays } from \"../utils/redux\";\nimport { setState } from \"../actions/allEvents\";\nimport { updateState } from '../utils/server';\nimport { LABEL_ITEM, PROJECT_ITEM } from \"../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AllItems extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      displayAddItem: 'none',\n      displayItems: 'none',\n      items: [],\n      name: ''\n    };\n  }\n\n  async componentDidMount() {\n    await store.subscribe(this.handleItemsChange.bind(this));\n  }\n\n  handleItemsChange() {\n    var _store$getState$allEv, _store$getState$allEv2;\n\n    let newItems;\n    if (this.props.type === LABEL_ITEM) newItems = (_store$getState$allEv = store.getState().allEvents) === null || _store$getState$allEv === void 0 ? void 0 : _store$getState$allEv.labels;else if (this.props.type === PROJECT_ITEM) newItems = (_store$getState$allEv2 = store.getState().allEvents) === null || _store$getState$allEv2 === void 0 ? void 0 : _store$getState$allEv2.projects;\n\n    if (newItems && !equalArrays(newItems, this.state.items)) {\n      this.setState({\n        items: [...newItems]\n      });\n    }\n  }\n\n  displayAddItem() {\n    this.setState({\n      displayAddItem: this.state.displayAddItem === 'none' ? 'block' : 'none'\n    });\n  }\n\n  displayItems() {\n    let displayVal = this.state.displayItems === 'none' ? 'block' : 'none';\n    if (this.state.items.length === 0) displayVal = 'none';\n    this.setState({\n      displayItems: displayVal\n    });\n  }\n\n  getItems(items) {\n    let arr = [];\n\n    for (let i = 0; i < items.length; ++i) {\n      arr.push( /*#__PURE__*/_jsxDEV(SingleItem, {\n        name: items[i],\n        type: this.props.type,\n        itemSign: this.props.itemSign\n      }, Math.random(), false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 22\n      }, this));\n    }\n\n    return arr;\n  }\n\n  handleInputValue(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  async addItem() {\n    if (this.state.name === '') {\n      alert(`${this.props.type === LABEL_ITEM ? \"Label\" : \"Project\"} name must not be empty!`);\n      return;\n    }\n\n    if (this.props.type === LABEL_ITEM) {\n      if (store.getState().allEvents.labels.indexOf(this.state.name) !== -1) {\n        alert(`Repeated label!`);\n        return;\n      }\n    } else if (this.props.type === PROJECT_ITEM) {\n      if (store.getState().allEvents.projects.indexOf(this.state.name) !== -1) {\n        alert(`Repeated project!`);\n        return;\n      }\n    }\n\n    let state = Object.assign({}, store.getState().allEvents);\n    if (this.props.type === LABEL_ITEM) state.labels.push(this.state.name);else if (this.props.type === PROJECT_ITEM) state.projects.push(this.state.name);\n    await store.dispatch(setState(state));\n    this.setState({\n      displayAddItem: 'none',\n      name: ''\n    });\n    updateState();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"label-controller\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addition\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"addition-arrow\",\n          src: controlSign,\n          onClick: this.displayItems.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"addition-text\",\n          onClick: this.displayItems.bind(this),\n          children: this.props.type === LABEL_ITEM ? \"Labels\" : \"Projects\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"addition-sign\",\n          src: addition,\n          onClick: this.displayAddItem.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"single-label-wrapper\",\n        style: {\n          display: this.state.displayItems\n        },\n        children: this.getItems(this.state.items)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-label\",\n        style: {\n          display: this.state.displayAddItem\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"add-label-image\",\n          src: this.props.itemSign\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: this.state.name,\n          className: \"add-label-name\",\n          onChange: this.handleInputValue.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"add-label-confirm\",\n          onClick: this.addItem.bind(this),\n          src: confirmSign\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default AllItems;","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/AllItems.js"],"names":["React","controlSign","addition","confirmSign","SingleItem","store","equalArrays","setState","updateState","LABEL_ITEM","PROJECT_ITEM","AllItems","Component","constructor","props","state","displayAddItem","displayItems","items","name","componentDidMount","subscribe","handleItemsChange","bind","newItems","type","getState","allEvents","labels","projects","displayVal","length","getItems","arr","i","push","itemSign","Math","random","handleInputValue","e","target","value","addItem","alert","indexOf","Object","assign","dispatch","render","display"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../styles/AllItems.css';\nimport controlSign from '../images/control.png';\nimport addition from '../images/addition.png';\nimport confirmSign from '../images/confirmOrange.png';\nimport SingleItem from \"./SingleItem\";\nimport store from \"../store\";\nimport { equalArrays } from \"../utils/redux\";\nimport { setState } from \"../actions/allEvents\";\nimport { updateState } from '../utils/server';\nimport { LABEL_ITEM, PROJECT_ITEM } from \"../utils/constants\";\n\nclass AllItems extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            displayAddItem: 'none',\n            displayItems: 'none',\n            items: [],\n            name: '',\n        }\n    }\n    async componentDidMount() {\n        await store.subscribe(this.handleItemsChange.bind(this));\n    }\n    handleItemsChange() {\n        let newItems;\n        if(this.props.type === LABEL_ITEM) newItems = store.getState().allEvents?.labels;\n        else if(this.props.type === PROJECT_ITEM) newItems = store.getState().allEvents?.projects;\n        if(newItems && !equalArrays(newItems, this.state.items)) {\n            this.setState({\n                items: [...newItems]\n            })\n        }\n    }\n    displayAddItem() {\n        this.setState({\n            displayAddItem: this.state.displayAddItem === 'none' ? 'block' : 'none'\n        });\n    }\n    displayItems() {\n        let displayVal = this.state.displayItems === 'none' ? 'block' : 'none';\n        if(this.state.items.length === 0) displayVal = 'none';\n        this.setState({\n            displayItems: displayVal\n        })\n    }\n    getItems(items) {\n        let arr = [];\n        for(let i = 0; i < items.length; ++i) {\n            arr.push(<SingleItem key={Math.random()} name={items[i]} type={this.props.type} itemSign={this.props.itemSign}/>);\n        }\n        return arr;\n    }\n    handleInputValue(e) {\n        this.setState({\n            name: e.target.value\n        });\n    }\n    async addItem() {\n        if(this.state.name === '') {\n            alert(`${this.props.type === LABEL_ITEM ? \"Label\" : \"Project\"} name must not be empty!`);\n            return;\n        }\n        if(this.props.type === LABEL_ITEM) {\n            if(store.getState().allEvents.labels.indexOf(this.state.name) !== -1) {\n                alert(`Repeated label!`);\n                return;\n            }\n        }\n        else if(this.props.type === PROJECT_ITEM) {\n            if(store.getState().allEvents.projects.indexOf(this.state.name) !== -1) {\n                alert(`Repeated project!`);\n                return;\n            }\n        }\n        let state = Object.assign({}, store.getState().allEvents);\n        if(this.props.type === LABEL_ITEM) state.labels.push(this.state.name);\n        else if(this.props.type === PROJECT_ITEM) state.projects.push(this.state.name);\n        await store.dispatch(setState(state));\n        this.setState({\n            displayAddItem: 'none',\n            name: ''\n        });\n        updateState();\n    }\n    render() {\n        return <div className=\"label-controller\">\n            <div className=\"addition\">\n                <img className=\"addition-arrow\" src={controlSign} onClick={this.displayItems.bind(this)}/>\n                <span className=\"addition-text\" onClick={this.displayItems.bind(this)}>{this.props.type === LABEL_ITEM ? \"Labels\" : \"Projects\"}</span>\n                <img className=\"addition-sign\" src={addition} onClick={this.displayAddItem.bind(this)}/>\n            </div>\n            <div className=\"single-label-wrapper\" style={{display: this.state.displayItems}}>\n                {this.getItems(this.state.items)}\n            </div>\n            <div className='add-label' style={{display: this.state.displayAddItem}}>\n                <img className='add-label-image' src={this.props.itemSign}/>\n                <input value={this.state.name} className='add-label-name' onChange={this.handleInputValue.bind(this)}/>\n                <img className=\"add-label-confirm\" onClick={this.addItem.bind(this)} src={confirmSign}/>\n            </div>\n        </div>;\n    }\n}\n\nexport default AllItems;"]},"metadata":{},"sourceType":"module"}