{"ast":null,"code":"import _asyncToGenerator from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import'../styles/Home.css';import{postToServer}from'../utils/server';import{withRouter}from\"react-router\";import store from'../store';import{setUsername}from'../actions/userInfo';import{INVALID_USERNAME,WRONG_PASSWORD}from'../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);var _super=_createSuper(Home);function Home(props){var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.state={username:\"\",password:\"\"};return _this;}_createClass(Home,[{key:\"handleInputChange\",value:function handleInputChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"login\",value:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var username,password,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:username=this.state.username;password=this.state.password;if(!(username===''||password==='')){_context.next=5;break;}alert('Username and password must not be empty!');return _context.abrupt(\"return\");case 5:_context.next=7;return postToServer('/login',{username:username,password:password});case 7:res=_context.sent;if(!(res===WRONG_PASSWORD)){_context.next=11;break;}alert(\"Invalid password!\");return _context.abrupt(\"return\");case 11:if(!(res===INVALID_USERNAME)){_context.next=14;break;}alert(\"Invalid username!\");return _context.abrupt(\"return\");case 14:_context.next=16;return store.dispatch(setUsername(username));case 16:this.props.history.push('/Interface');case 17:case\"end\":return _context.stop();}}},_callee,this);}));function login(){return _login.apply(this,arguments);}return login;}()},{key:\"register\",value:function(){var _register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var username,password,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:username=this.state.username;password=this.state.password;if(!(username===''||password==='')){_context2.next=5;break;}alert('Username and password must not be empty!');return _context2.abrupt(\"return\");case 5:_context2.next=7;return postToServer('/register',{username:username,password:password});case 7:res=_context2.sent;if(res){_context2.next=11;break;}alert('Username has been taken!');return _context2.abrupt(\"return\");case 11:_context2.next=13;return store.dispatch(setUsername(username));case 13:this.props.history.push('/Interface');case 14:case\"end\":return _context2.stop();}}},_callee2,this);}));function register(){return _register.apply(this,arguments);}return register;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"home-wrapper\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"phrase-I\",children:\"HAPPINESS IS\"}),/*#__PURE__*/_jsx(\"p\",{className:\"phrase-II\",children:\"...finishing a to-do list.\"}),/*#__PURE__*/_jsx(\"span\",{className:\"cue-word\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",onChange:this.handleInputChange.bind(this),className:\"user-input\"}),/*#__PURE__*/_jsx(\"span\",{className:\"cue-word\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",onChange:this.handleInputChange.bind(this),className:\"user-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.login.bind(this),className:\"log-in\",children:\"Log in\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.register.bind(this),className:\"sign-up\",children:\"Sign up\"})]});}}]);return Home;}(React.Component);export default withRouter(Home);","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/Home.js"],"names":["React","postToServer","withRouter","store","setUsername","INVALID_USERNAME","WRONG_PASSWORD","Home","props","state","username","password","e","setState","target","name","value","alert","res","dispatch","history","push","handleInputChange","bind","login","register","Component"],"mappings":"qlCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,oBAAP,CACA,OAASC,YAAT,KAA6B,iBAA7B,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,OAASC,WAAT,KAA4B,qBAA5B,CACA,OAASC,gBAAT,CAA2BC,cAA3B,KAAgD,oBAAhD,C,2FAEMC,CAAAA,I,wGACF,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,EADD,CAETC,QAAQ,CAAE,EAFD,CAAb,CAFe,aAMlB,C,kDACD,2BAAkBC,CAAlB,CAAqB,CACjB,KAAKC,QAAL,oBACKD,CAAC,CAACE,MAAF,CAASC,IADd,CACqBH,CAAC,CAACE,MAAF,CAASE,KAD9B,GAGH,C,mGACD,6JACQN,QADR,CACmB,KAAKD,KAAL,CAAWC,QAD9B,CAEQC,QAFR,CAEmB,KAAKF,KAAL,CAAWE,QAF9B,MAGOD,QAAQ,GAAK,EAAb,EAAmBC,QAAQ,GAAK,EAHvC,0BAIQM,KAAK,CAAC,0CAAD,CAAL,CAJR,8DAOoBhB,CAAAA,YAAY,CAAC,QAAD,CAAW,CAACS,QAAQ,CAAEA,QAAX,CAAqBC,QAAQ,CAAEA,QAA/B,CAAX,CAPhC,QAOQO,GAPR,oBAQOA,GAAG,GAAKZ,cARf,2BASQW,KAAK,CAAC,mBAAD,CAAL,CATR,8CAYOC,GAAG,GAAKb,gBAZf,2BAaQY,KAAK,CAAC,mBAAD,CAAL,CAbR,gEAgBUd,CAAAA,KAAK,CAACgB,QAAN,CAAef,WAAW,CAACM,QAAD,CAA1B,CAhBV,SAiBI,KAAKF,KAAL,CAAWY,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EAjBJ,4D,kLAmBA,kKACQX,QADR,CACmB,KAAKD,KAAL,CAAWC,QAD9B,CAEQC,QAFR,CAEmB,KAAKF,KAAL,CAAWE,QAF9B,MAGOD,QAAQ,GAAK,EAAb,EAAmBC,QAAQ,GAAK,EAHvC,2BAIQM,KAAK,CAAC,0CAAD,CAAL,CAJR,gEAOoBhB,CAAAA,YAAY,CAAC,WAAD,CAAc,CAACS,QAAQ,CAAEA,QAAX,CAAqBC,QAAQ,CAAEA,QAA/B,CAAd,CAPhC,QAOQO,GAPR,mBAQQA,GARR,2BASQD,KAAK,CAAC,0BAAD,CAAL,CATR,kEAYUd,CAAAA,KAAK,CAACgB,QAAN,CAAef,WAAW,CAACM,QAAD,CAA1B,CAZV,SAaI,KAAKF,KAAL,CAAWY,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EAbJ,8D,wGAeA,iBAAS,CACL,mBAAO,aAAK,SAAS,CAAC,cAAf,wBACH,UAAG,SAAS,CAAC,UAAb,0BADG,cAEH,UAAG,SAAS,CAAC,WAAb,wCAFG,cAGH,aAAM,SAAS,CAAC,UAAhB,sBAHG,cAIH,cAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,CAAE,KAAKC,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAjC,CAAoE,SAAS,CAAC,YAA9E,EAJG,cAKH,aAAM,SAAS,CAAC,UAAhB,sBALG,cAMH,cAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,CAAE,KAAKD,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAjC,CAAoE,SAAS,CAAC,YAA9E,EANG,cAOH,eAAQ,OAAO,CAAE,KAAKC,KAAL,CAAWD,IAAX,CAAgB,IAAhB,CAAjB,CAAwC,SAAS,CAAC,QAAlD,oBAPG,cAQH,eAAQ,OAAO,CAAE,KAAKE,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAjB,CAA2C,SAAS,CAAC,SAArD,qBARG,GAAP,CAUH,C,kBA1DcvB,KAAK,CAAC0B,S,EA6DzB,cAAexB,CAAAA,UAAU,CAACK,IAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport '../styles/Home.css';\nimport { postToServer } from '../utils/server';\nimport { withRouter } from \"react-router\";\nimport store from '../store';\nimport { setUsername } from '../actions/userInfo';\nimport { INVALID_USERNAME, WRONG_PASSWORD} from '../utils/constants';\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: \"\",\n            password: \"\",\n        }\n    }\n    handleInputChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    }\n    async login() {\n        let username = this.state.username;\n        let password = this.state.password;\n        if(username === '' || password === '') {\n            alert('Username and password must not be empty!');\n            return;\n        }\n        let res = await postToServer('/login', {username: username, password: password});\n        if(res === WRONG_PASSWORD) {\n            alert(\"Invalid password!\");\n            return;\n        }\n        if(res === INVALID_USERNAME) {\n            alert(\"Invalid username!\");\n            return;\n        }\n        await store.dispatch(setUsername(username));\n        this.props.history.push('/Interface');\n    }\n    async register() {\n        let username = this.state.username;\n        let password = this.state.password;\n        if(username === '' || password === '') {\n            alert('Username and password must not be empty!');\n            return;\n        }\n        let res = await postToServer('/register', {username: username, password: password});\n        if(!res) {\n            alert('Username has been taken!');\n            return;\n        }\n        await store.dispatch(setUsername(username));\n        this.props.history.push('/Interface');\n    }\n    render() {\n        return <div className=\"home-wrapper\">\n            <p className=\"phrase-I\">HAPPINESS IS</p>\n            <p className=\"phrase-II\">...finishing a to-do list.</p>\n            <span className=\"cue-word\">Username</span>\n            <input name=\"username\" onChange={this.handleInputChange.bind(this)} className=\"user-input\"/>\n            <span className=\"cue-word\">Password</span>\n            <input name=\"password\" onChange={this.handleInputChange.bind(this)} className=\"user-input\"/>\n            <button onClick={this.login.bind(this)} className=\"log-in\">Log in</button>\n            <button onClick={this.register.bind(this)} className=\"sign-up\">Sign up</button>\n        </div>\n    }\n}\n\nexport default withRouter(Home);"]},"metadata":{},"sourceType":"module"}