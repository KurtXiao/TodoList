{"ast":null,"code":"import _toConsumableArray from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import'../styles/AllProjects.css';import controlSign from'../images/control.png';import addition from'../images/addition.png';import projectSign from'../images/project.png';import confirmSign from'../images/confirmOrange.png';import SingleProject from'./SingleProject';import store from\"../store\";import{equalArrays}from\"../utils/redux\";import{setState}from\"../actions/allEvents\";import{updateState}from'../utils/server';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllProjects=/*#__PURE__*/function(_React$Component){_inherits(AllProjects,_React$Component);var _super=_createSuper(AllProjects);function AllProjects(props){var _this;_classCallCheck(this,AllProjects);_this=_super.call(this,props);_this.state={displayAddProject:'none',displayProjects:'none',projects:[],name:''};return _this;}_createClass(AllProjects,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return store.subscribe(this.handleProjectsChange.bind(this));case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleProjectsChange\",value:function handleProjectsChange(){var _store$getState$allEv;var newProjects=(_store$getState$allEv=store.getState().allEvents)===null||_store$getState$allEv===void 0?void 0:_store$getState$allEv.projects;if(newProjects&&!equalArrays(newProjects,this.state.projects)){this.setState({projects:_toConsumableArray(newProjects)});}}},{key:\"displayAddProject\",value:function displayAddProject(){this.setState({displayAddProject:this.state.displayAddProject==='none'?'block':'none'});}},{key:\"displayProjects\",value:function displayProjects(){var displayVal=this.state.displayProjects==='none'?'block':'none';if(this.state.projects.length===0)displayVal='none';this.setState({displayProjects:displayVal});}},{key:\"getProjects\",value:function getProjects(projects){var arr=[];for(var i=0;i<projects.length;++i){arr.push(/*#__PURE__*/_jsx(SingleProject,{name:projects[i]},Math.random()));}return arr;}},{key:\"handleInputValue\",value:function handleInputValue(e){this.setState({name:e.target.value});}},{key:\"addProject\",value:function(){var _addProject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var state;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(this.state.name==='')){_context2.next=3;break;}alert('Project name must not be empty!');return _context2.abrupt(\"return\");case 3:if(!(store.getState().allEvents.projects.indexOf(this.state.name)!==-1)){_context2.next=6;break;}alert('Repeated project name!');return _context2.abrupt(\"return\");case 6:state=Object.assign({},store.getState().allEvents);state.projects.push(this.state.name);_context2.next=10;return store.dispatch(setState(state));case 10:this.setState({displayAddProject:'none',name:''});updateState();case 12:case\"end\":return _context2.stop();}}},_callee2,this);}));function addProject(){return _addProject.apply(this,arguments);}return addProject;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"project-controller\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"addition\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"addition-arrow\",src:controlSign,onClick:this.displayProjects.bind(this)}),/*#__PURE__*/_jsx(\"span\",{className:\"addition-text\",onClick:this.displayProjects.bind(this),children:\"Projects\"}),/*#__PURE__*/_jsx(\"img\",{className:\"addition-sign\",src:addition,onClick:this.displayAddProject.bind(this)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"single-label-wrapper\",style:{display:this.state.displayProjects},children:this.getProjects(this.state.projects)}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-label\",style:{display:this.state.displayAddProject},children:[/*#__PURE__*/_jsx(\"img\",{className:\"add-label-image\",src:projectSign}),/*#__PURE__*/_jsx(\"input\",{value:this.state.name,className:\"add-label-name\",onChange:this.handleInputValue.bind(this)}),/*#__PURE__*/_jsx(\"img\",{className:\"add-label-confirm\",onClick:this.addProject.bind(this),src:confirmSign})]})]});}}]);return AllProjects;}(React.Component);export default AllProjects;","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/AllProjects.js"],"names":["React","controlSign","addition","projectSign","confirmSign","SingleProject","store","equalArrays","setState","updateState","AllProjects","props","state","displayAddProject","displayProjects","projects","name","subscribe","handleProjectsChange","bind","newProjects","getState","allEvents","displayVal","length","arr","i","push","Math","random","e","target","value","alert","indexOf","Object","assign","dispatch","display","getProjects","handleInputValue","addProject","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../styles/AllProjects.css';\nimport controlSign from '../images/control.png';\nimport addition from '../images/addition.png';\nimport projectSign from '../images/project.png';\nimport confirmSign from '../images/confirmOrange.png';\nimport SingleProject from './SingleProject';\nimport store from \"../store\";\nimport { equalArrays } from \"../utils/redux\";\nimport { setState } from \"../actions/allEvents\";\nimport { updateState } from '../utils/server';\n\nclass AllProjects extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            displayAddProject: 'none',\n            displayProjects: 'none',\n            projects: [],\n            name: '',\n        }\n    }\n    async componentDidMount() {\n        await store.subscribe(this.handleProjectsChange.bind(this));\n    }\n    handleProjectsChange() {\n        let newProjects = store.getState().allEvents?.projects;\n        if(newProjects && !equalArrays(newProjects, this.state.projects)) {\n            this.setState({\n                projects: [...newProjects]\n            })\n        }\n    }\n    displayAddProject() {\n        this.setState({\n            displayAddProject: this.state.displayAddProject === 'none' ? 'block' : 'none'\n        });\n    }\n    displayProjects() {\n        let displayVal = this.state.displayProjects === 'none' ? 'block' : 'none';\n        if(this.state.projects.length === 0) displayVal = 'none';\n        this.setState({\n            displayProjects: displayVal\n        })\n    }\n    getProjects(projects) {\n        let arr = [];\n        for(let i = 0; i < projects.length; ++i) {\n            arr.push(<SingleProject key={Math.random()} name={projects[i]}/>);\n        }\n        return arr;\n    }\n    handleInputValue(e) {\n        this.setState({\n            name: e.target.value\n        });\n    }\n    async addProject() {\n        if(this.state.name === '') {\n            alert('Project name must not be empty!');\n            return;\n        }\n        if(store.getState().allEvents.projects.indexOf(this.state.name) !== -1) {\n            alert('Repeated project name!');\n            return;\n        }\n        let state = Object.assign({}, store.getState().allEvents);\n        state.projects.push(this.state.name);\n        await store.dispatch(setState(state));\n        this.setState({\n            displayAddProject: 'none',\n            name: ''\n        });\n        updateState();\n    }\n    render() {\n        return <div className=\"project-controller\">\n            <div className=\"addition\">\n                <img className=\"addition-arrow\" src={controlSign} onClick={this.displayProjects.bind(this)}/>\n                <span className=\"addition-text\" onClick={this.displayProjects.bind(this)}>Projects</span>\n                <img className=\"addition-sign\" src={addition} onClick={this.displayAddProject.bind(this)}/>\n            </div>\n            <div className=\"single-label-wrapper\" style={{display: this.state.displayProjects}}>\n                {this.getProjects(this.state.projects)}\n            </div>\n            <div className='add-label' style={{display: this.state.displayAddProject}}>\n                <img className='add-label-image' src={projectSign}/>\n                <input value={this.state.name} className='add-label-name' onChange={this.handleInputValue.bind(this)}/>\n                <img className=\"add-label-confirm\" onClick={this.addProject.bind(this)} src={confirmSign}/>\n            </div>\n        </div>;\n    }\n}\n\nexport default AllProjects;"]},"metadata":{},"sourceType":"module"}