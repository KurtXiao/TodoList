{"ast":null,"code":"import _toConsumableArray from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import'../styles/AllLabels.css';import controlSign from'../images/control.png';import addition from'../images/addition.png';import labelSign from'../images/label.png';import confirmSign from'../images/confirmOrange.png';import SingleLabel from\"./SingleLabel\";import store from\"../store\";import{equalArrays}from\"../utils/redux\";import{setState}from\"../actions/allEvents\";import{updateState}from'../utils/server';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllLabels=/*#__PURE__*/function(_React$Component){_inherits(AllLabels,_React$Component);var _super=_createSuper(AllLabels);function AllLabels(props){var _this;_classCallCheck(this,AllLabels);_this=_super.call(this,props);_this.state={displayAddLabel:'none',displayLabels:'none',labels:[],name:''};return _this;}_createClass(AllLabels,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return store.subscribe(this.handleLabelsChange.bind(this));case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleLabelsChange\",value:function handleLabelsChange(){var _store$getState$allEv;var newLabels=(_store$getState$allEv=store.getState().allEvents)===null||_store$getState$allEv===void 0?void 0:_store$getState$allEv.labels;if(newLabels&&!equalArrays(newLabels,this.state.labels)){this.setState({labels:_toConsumableArray(newLabels)});}}},{key:\"displayAddLabel\",value:function displayAddLabel(){this.setState({displayAddLabel:this.state.displayAddLabel==='none'?'block':'none'});}},{key:\"displayLabels\",value:function displayLabels(){var displayVal=this.state.displayLabels==='none'?'block':'none';if(this.state.labels.length===0)displayVal='none';this.setState({displayLabels:displayVal});}},{key:\"getLabels\",value:function getLabels(labels){var arr=[];for(var i=0;i<labels.length;++i){arr.push(/*#__PURE__*/_jsx(SingleLabel,{name:labels[i]},Math.random()));}return arr;}},{key:\"handleInputValue\",value:function handleInputValue(e){this.setState({name:e.target.value});}},{key:\"addLabel\",value:function(){var _addLabel=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var state;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(this.state.name==='')){_context2.next=3;break;}alert('Label name must not be empty!');return _context2.abrupt(\"return\");case 3:if(!(store.getState().allEvents.labels.indexOf(this.state.name)!==-1)){_context2.next=6;break;}alert('Repeated label!');return _context2.abrupt(\"return\");case 6:state=Object.assign({},store.getState().allEvents);state.labels.push(this.state.name);_context2.next=10;return store.dispatch(setState(state));case 10:this.setState({displayAddLabel:'none',name:''});updateState();case 12:case\"end\":return _context2.stop();}}},_callee2,this);}));function addLabel(){return _addLabel.apply(this,arguments);}return addLabel;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"label-controller\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"addition\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"addition-arrow\",src:controlSign,onClick:this.displayLabels.bind(this)}),/*#__PURE__*/_jsx(\"span\",{className:\"addition-text\",onClick:this.displayLabels.bind(this),children:\"Labels\"}),/*#__PURE__*/_jsx(\"img\",{className:\"addition-sign\",src:addition,onClick:this.displayAddLabel.bind(this)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"single-label-wrapper\",style:{display:this.state.displayLabels},children:this.getLabels(this.state.labels)}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-label\",style:{display:this.state.displayAddLabel},children:[/*#__PURE__*/_jsx(\"img\",{className:\"add-label-image\",src:labelSign}),/*#__PURE__*/_jsx(\"input\",{value:this.state.name,className:\"add-label-name\",onChange:this.handleInputValue.bind(this)}),/*#__PURE__*/_jsx(\"img\",{className:\"add-label-confirm\",onClick:this.addLabel.bind(this),src:confirmSign})]})]});}}]);return AllLabels;}(React.Component);export default AllLabels;","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/AllLabels.js"],"names":["React","controlSign","addition","labelSign","confirmSign","SingleLabel","store","equalArrays","setState","updateState","AllLabels","props","state","displayAddLabel","displayLabels","labels","name","subscribe","handleLabelsChange","bind","newLabels","getState","allEvents","displayVal","length","arr","i","push","Math","random","e","target","value","alert","indexOf","Object","assign","dispatch","display","getLabels","handleInputValue","addLabel","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../styles/AllLabels.css';\nimport controlSign from '../images/control.png';\nimport addition from '../images/addition.png';\nimport labelSign from '../images/label.png';\nimport confirmSign from '../images/confirmOrange.png';\nimport SingleLabel from \"./SingleLabel\";\nimport store from \"../store\";\nimport { equalArrays } from \"../utils/redux\";\nimport { setState } from \"../actions/allEvents\";\nimport { updateState } from '../utils/server';\n\n\nclass AllLabels extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            displayAddLabel: 'none',\n            displayLabels: 'none',\n            labels: [],\n            name: '',\n        }\n    }\n    async componentDidMount() {\n        await store.subscribe(this.handleLabelsChange.bind(this));\n    }\n    handleLabelsChange() {\n        let newLabels = store.getState().allEvents?.labels;\n        if(newLabels && !equalArrays(newLabels, this.state.labels)) {\n            this.setState({\n                labels: [...newLabels]\n            })\n        }\n    }\n    displayAddLabel() {\n        this.setState({\n            displayAddLabel: this.state.displayAddLabel === 'none' ? 'block' : 'none'\n        });\n    }\n    displayLabels() {\n        let displayVal = this.state.displayLabels === 'none' ? 'block' : 'none';\n        if(this.state.labels.length === 0) displayVal = 'none';\n        this.setState({\n            displayLabels: displayVal\n        })\n    }\n    getLabels(labels) {\n        let arr = [];\n        for(let i = 0; i < labels.length; ++i) {\n            arr.push(<SingleLabel key={Math.random()} name={labels[i]}/>);\n        }\n        return arr;\n    }\n    handleInputValue(e) {\n        this.setState({\n            name: e.target.value\n        });\n    }\n    async addLabel() {\n        if(this.state.name === '') {\n            alert('Label name must not be empty!');\n            return;\n        }\n        if(store.getState().allEvents.labels.indexOf(this.state.name) !== -1) {\n            alert('Repeated label!');\n            return;\n        }\n        let state = Object.assign({}, store.getState().allEvents);\n        state.labels.push(this.state.name);\n        await store.dispatch(setState(state));\n        this.setState({\n            displayAddLabel: 'none',\n            name: ''\n        });\n        updateState();\n    }\n    render() {\n        return <div className=\"label-controller\">\n            <div className=\"addition\">\n                <img className=\"addition-arrow\" src={controlSign} onClick={this.displayLabels.bind(this)}/>\n                <span className=\"addition-text\" onClick={this.displayLabels.bind(this)}>Labels</span>\n                <img className=\"addition-sign\" src={addition} onClick={this.displayAddLabel.bind(this)}/>\n            </div>\n            <div className=\"single-label-wrapper\" style={{display: this.state.displayLabels}}>\n                {this.getLabels(this.state.labels)}\n            </div>\n            <div className='add-label' style={{display: this.state.displayAddLabel}}>\n                <img className='add-label-image' src={labelSign}/>\n                <input value={this.state.name} className='add-label-name' onChange={this.handleInputValue.bind(this)}/>\n                <img className=\"add-label-confirm\" onClick={this.addLabel.bind(this)} src={confirmSign}/>\n            </div>\n        </div>;\n    }\n}\n\nexport default AllLabels;"]},"metadata":{},"sourceType":"module"}