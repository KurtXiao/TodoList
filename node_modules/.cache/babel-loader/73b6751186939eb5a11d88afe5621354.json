{"ast":null,"code":"var _jsxFileName = \"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/Home.js\";\nimport React from \"react\";\nimport '../styles/Home.css';\nimport { postToServer } from '../utils/server';\nimport { withRouter } from \"react-router\";\nimport store from '../store';\nimport { setUsername } from '../actions/userInfo';\nimport { INVALID_USERNAME, WRONG_PASSWORD } from '../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  async login() {\n    let username = this.state.username;\n    let password = this.state.password;\n\n    if (username === '' || password === '') {\n      alert('Username and password must not be empty!');\n      return;\n    }\n\n    console.log(11);\n    let res = await postToServer('/login', {\n      username: username,\n      password: password\n    });\n    console.log(res);\n\n    if (res === WRONG_PASSWORD) {\n      alert(\"Invalid password!\");\n      return;\n    }\n\n    if (res === INVALID_USERNAME) {\n      alert(\"Invalid username!\");\n      return;\n    }\n\n    await store.dispatch(setUsername(username));\n    this.props.history.push('/Interface');\n  }\n\n  async register() {\n    let username = this.state.username;\n    let password = this.state.password;\n\n    if (username === '' || password === '') {\n      alert('Username and password must not be empty!');\n      return;\n    }\n\n    let res = await postToServer('/register', {\n      username: username,\n      password: password\n    });\n\n    if (!res) {\n      alert('Username has been taken!');\n      return;\n    }\n\n    await store.dispatch(setUsername(username));\n    this.props.history.push('/Interface');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"phrase-I\",\n        children: \"HAPPINESS IS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"phrase-II\",\n        children: \"...finishing a to-do list.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"cue-word\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"username\",\n        onChange: this.handleInputChange.bind(this),\n        className: \"user-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"cue-word\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password\",\n        onChange: this.handleInputChange.bind(this),\n        className: \"user-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.login.bind(this),\n        className: \"log-in\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.register.bind(this),\n        className: \"sign-up\",\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Home);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/Home.js"],"names":["React","postToServer","withRouter","store","setUsername","INVALID_USERNAME","WRONG_PASSWORD","Home","Component","constructor","props","state","username","password","handleInputChange","e","setState","target","name","value","login","alert","console","log","res","dispatch","history","push","register","render","bind"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,gBAAT,EAA2BC,cAA3B,QAAgD,oBAAhD;;;AAEA,MAAMC,IAAN,SAAmBP,KAAK,CAACQ,SAAzB,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIH;;AACDC,EAAAA,iBAAiB,CAACC,CAAD,EAAI;AACjB,SAAKC,QAAL,CAAc;AACV,OAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADhB,KAAd;AAGH;;AACU,QAALC,KAAK,GAAG;AACV,QAAIR,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;AACA,QAAIC,QAAQ,GAAG,KAAKF,KAAL,CAAWE,QAA1B;;AACA,QAAGD,QAAQ,KAAK,EAAb,IAAmBC,QAAQ,KAAK,EAAnC,EAAuC;AACnCQ,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACA;AACH;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ;AACA,QAAIC,GAAG,GAAG,MAAMvB,YAAY,CAAC,QAAD,EAAW;AAACW,MAAAA,QAAQ,EAAEA,QAAX;AAAqBC,MAAAA,QAAQ,EAAEA;AAA/B,KAAX,CAA5B;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;;AACA,QAAGA,GAAG,KAAKlB,cAAX,EAA2B;AACvBe,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACA;AACH;;AACD,QAAGG,GAAG,KAAKnB,gBAAX,EAA6B;AACzBgB,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACA;AACH;;AACD,UAAMlB,KAAK,CAACsB,QAAN,CAAerB,WAAW,CAACQ,QAAD,CAA1B,CAAN;AACA,SAAKF,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH;;AACa,QAARC,QAAQ,GAAG;AACb,QAAIhB,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;AACA,QAAIC,QAAQ,GAAG,KAAKF,KAAL,CAAWE,QAA1B;;AACA,QAAGD,QAAQ,KAAK,EAAb,IAAmBC,QAAQ,KAAK,EAAnC,EAAuC;AACnCQ,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACA;AACH;;AACD,QAAIG,GAAG,GAAG,MAAMvB,YAAY,CAAC,WAAD,EAAc;AAACW,MAAAA,QAAQ,EAAEA,QAAX;AAAqBC,MAAAA,QAAQ,EAAEA;AAA/B,KAAd,CAA5B;;AACA,QAAG,CAACW,GAAJ,EAAS;AACLH,MAAAA,KAAK,CAAC,0BAAD,CAAL;AACA;AACH;;AACD,UAAMlB,KAAK,CAACsB,QAAN,CAAerB,WAAW,CAACQ,QAAD,CAA1B,CAAN;AACA,SAAKF,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH;;AACDE,EAAAA,MAAM,GAAG;AACL,wBAAO;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACH;AAAG,QAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADG,eAEH;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFG,eAGH;AAAM,QAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHG,eAIH;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,QAAQ,EAAE,KAAKf,iBAAL,CAAuBgB,IAAvB,CAA4B,IAA5B,CAAjC;AAAoE,QAAA,SAAS,EAAC;AAA9E;AAAA;AAAA;AAAA;AAAA,cAJG,eAKH;AAAM,QAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALG,eAMH;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,QAAQ,EAAE,KAAKhB,iBAAL,CAAuBgB,IAAvB,CAA4B,IAA5B,CAAjC;AAAoE,QAAA,SAAS,EAAC;AAA9E;AAAA;AAAA;AAAA;AAAA,cANG,eAOH;AAAQ,QAAA,OAAO,EAAE,KAAKV,KAAL,CAAWU,IAAX,CAAgB,IAAhB,CAAjB;AAAwC,QAAA,SAAS,EAAC,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPG,eAQH;AAAQ,QAAA,OAAO,EAAE,KAAKF,QAAL,CAAcE,IAAd,CAAmB,IAAnB,CAAjB;AAA2C,QAAA,SAAS,EAAC,SAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARG;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAUH;;AA5D8B;;AA+DnC,oBAAe5B,UAAU,CAACK,IAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport '../styles/Home.css';\nimport { postToServer } from '../utils/server';\nimport { withRouter } from \"react-router\";\nimport store from '../store';\nimport { setUsername } from '../actions/userInfo';\nimport { INVALID_USERNAME, WRONG_PASSWORD} from '../utils/constants';\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: \"\",\n            password: \"\",\n        }\n    }\n    handleInputChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    }\n    async login() {\n        let username = this.state.username;\n        let password = this.state.password;\n        if(username === '' || password === '') {\n            alert('Username and password must not be empty!');\n            return;\n        }\n        console.log(11);\n        let res = await postToServer('/login', {username: username, password: password});\n        console.log(res);\n        if(res === WRONG_PASSWORD) {\n            alert(\"Invalid password!\");\n            return;\n        }\n        if(res === INVALID_USERNAME) {\n            alert(\"Invalid username!\");\n            return;\n        }\n        await store.dispatch(setUsername(username));\n        this.props.history.push('/Interface');\n    }\n    async register() {\n        let username = this.state.username;\n        let password = this.state.password;\n        if(username === '' || password === '') {\n            alert('Username and password must not be empty!');\n            return;\n        }\n        let res = await postToServer('/register', {username: username, password: password});\n        if(!res) {\n            alert('Username has been taken!');\n            return;\n        }\n        await store.dispatch(setUsername(username));\n        this.props.history.push('/Interface');\n    }\n    render() {\n        return <div className=\"home-wrapper\">\n            <p className=\"phrase-I\">HAPPINESS IS</p>\n            <p className=\"phrase-II\">...finishing a to-do list.</p>\n            <span className=\"cue-word\">Username</span>\n            <input name=\"username\" onChange={this.handleInputChange.bind(this)} className=\"user-input\"/>\n            <span className=\"cue-word\">Password</span>\n            <input name=\"password\" onChange={this.handleInputChange.bind(this)} className=\"user-input\"/>\n            <button onClick={this.login.bind(this)} className=\"log-in\">Log in</button>\n            <button onClick={this.register.bind(this)} className=\"sign-up\">Sign up</button>\n        </div>\n    }\n}\n\nexport default withRouter(Home);"]},"metadata":{},"sourceType":"module"}