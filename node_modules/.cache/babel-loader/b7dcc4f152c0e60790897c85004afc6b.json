{"ast":null,"code":"var _jsxFileName = \"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/AddEvent.js\";\nimport React from 'react';\nimport '../styles/SingleEvent.css';\nimport '../styles/AddEvent.css';\nimport addition from '../images/addition.png';\nimport calendarIcon from '../images/calendar.png';\nimport labelIcon from '../images/label.png';\nimport projectIcon from '../images/project.png';\nimport priorityIcon from '../images/priority.png';\nimport confirmIcon from '../images/confirm.png';\nimport controlSign from '../images/control.png';\nimport EventLabelSelection from './EventLabelSelection';\nimport EventProjectSelection from './EventProjectSelection';\nimport EventPrioritySelection from './EventPrioritySelection';\nimport { addEvent } from '../utils/redux';\nimport { updateState } from '../utils/server';\nimport store from '../store';\nimport { filterProject } from '../actions/projectArea';\nimport { filterDisplayEvents } from '../actions/displayArea';\nimport { dateToDateObj, setActiveDate, goToPrevYear, goToNextYear, goToPrevMonth, goToNextMonth } from '../utils/calendar';\nimport Calendar from './Calendar';\nimport { SINGLE_DATE_CALENDAR } from '../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddEvent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      text: '',\n      calendarDisplay: 'none',\n      labelsDisplay: 'none',\n      projectsDisplay: 'none',\n      priorityDisplay: 'none',\n      interfaceDisplay: 'none',\n      markDate: dateToDateObj(new Date()),\n      activeDate: dateToDateObj(new Date()),\n      activeLabels: [],\n      activeProjects: [],\n      activePriority: 'p4'\n    };\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  setActiveLabels(e) {\n    let activeLabels = [...this.state.activeLabels];\n\n    if (e.target.checked) {\n      this.setState({\n        activeLabels: [...activeLabels, e.target.name]\n      });\n    } else {\n      activeLabels.splice(activeLabels.indexOf(e.target.name), 1);\n      this.setState({\n        activeLabels: activeLabels\n      });\n    }\n  }\n\n  setActiveProjects(e) {\n    let activeProjects = [...this.state.activeProjects];\n\n    if (e.target.checked) {\n      this.setState({\n        activeProjects: [...activeProjects, e.target.name]\n      });\n    } else {\n      activeProjects.splice(activeProjects.indexOf(e.target.name), 1);\n      this.setState({\n        activeProjects: activeProjects\n      });\n    }\n  }\n\n  setActivePriority(e) {\n    this.setState({\n      activePriority: e.target.value\n    });\n  }\n\n  async addEvent() {\n    if (this.state.title === '') {\n      alert('Title must not be empty!');\n      return;\n    }\n\n    if (this.state.text === '') {\n      alert('Content must not be empty!');\n      return;\n    }\n\n    await addEvent(this.state.title, this.state.text, this.state.activeDate, this.state.activeLabels, this.state.activeProjects, this.state.activePriority);\n    updateState();\n    await this.setState({\n      title: '',\n      text: '',\n      calendarDisplay: 'none',\n      labelsDisplay: 'none',\n      projectsDisplay: 'none',\n      priorityDisplay: 'none',\n      interfaceDisplay: 'none',\n      markDate: dateToDateObj(new Date()),\n      activeDate: dateToDateObj(new Date()),\n      activeLabels: [],\n      activeProjects: [],\n      activePriority: []\n    });\n    await store.dispatch(filterProject(store.getState().allEvents.events));\n    await store.dispatch(filterDisplayEvents(store.getState().allEvents.events));\n  }\n\n  async displayAddEventInterface() {\n    await this.setState({\n      title: '',\n      text: '',\n      calendarDisplay: 'none',\n      labelsDisplay: 'none',\n      projectsDisplay: 'none',\n      priorityDisplay: 'none',\n      interfaceDisplay: this.state.interfaceDisplay === 'none' ? 'block' : 'none',\n      markDate: dateToDateObj(new Date()),\n      activeDate: dateToDateObj(new Date()),\n      activeLabels: [],\n      activeProjects: [],\n      activePriority: 'p4'\n    });\n  }\n\n  displayCalendar() {\n    if (this.state.calendarDisplay === 'none') {\n      this.setState({\n        calendarDisplay: 'block',\n        labelsDisplay: 'none',\n        projectsDisplay: 'none',\n        priorityDisplay: 'none'\n      });\n    } else {\n      this.setState({\n        calendarDisplay: 'none'\n      });\n    }\n  }\n\n  displayLabels() {\n    if (this.state.labelsDisplay === 'none') {\n      this.setState({\n        calendarDisplay: 'none',\n        labelsDisplay: 'block',\n        projectsDisplay: 'none',\n        priorityDisplay: 'none'\n      });\n    } else {\n      this.setState({\n        labelsDisplay: 'none'\n      });\n    }\n  }\n\n  displayProjects() {\n    if (this.state.projectsDisplay === 'none') {\n      this.setState({\n        calendarDisplay: 'none',\n        labelsDisplay: 'none',\n        projectsDisplay: 'block',\n        priorityDisplay: 'none'\n      });\n    } else {\n      this.setState({\n        projectsDisplay: 'none'\n      });\n    }\n  }\n\n  displayPriority() {\n    if (this.state.priorityDisplay === 'none') {\n      this.setState({\n        calendarDisplay: 'none',\n        labelsDisplay: 'none',\n        projectsDisplay: 'none',\n        priorityDisplay: 'block'\n      });\n    } else {\n      this.setState({\n        priorityDisplay: 'none'\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-adder-wrapper\",\n        onClick: this.displayAddEventInterface.bind(this),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"addition-arrow\",\n          src: controlSign\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"event-adder-text\",\n          children: \"New Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"event-adder-img\",\n          src: addition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"single-event\",\n        style: {\n          display: this.state.interfaceDisplay\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"single-event-minimal\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"title\",\n            value: this.state.title,\n            onChange: this.handleInputChange.bind(this),\n            className: \"single-event-title-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"single-event-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"text\",\n            value: this.state.text,\n            onChange: this.handleInputChange.bind(this),\n            className: \"single-event-text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"single-event-icons\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: this.displayCalendar.bind(this),\n              className: \"single-event-icon\",\n              src: calendarIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: this.displayLabels.bind(this),\n              className: \"single-event-icon\",\n              src: labelIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: this.displayProjects.bind(this),\n              className: \"single-event-icon\",\n              src: projectIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: this.displayPriority.bind(this),\n              className: \"single-event-icon\",\n              src: priorityIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: this.addEvent.bind(this),\n              src: confirmIcon,\n              className: \"confirm-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n              type: SINGLE_DATE_CALENDAR,\n              display: this.state.calendarDisplay,\n              setActiveDate: setActiveDate.bind(this),\n              markDate: this.state.markDate,\n              activeDate: this.state.activeDate,\n              goToPrevMonth: goToPrevMonth.bind(this),\n              goToNextMonth: goToNextMonth.bind(this),\n              goToPrevYear: goToPrevYear.bind(this),\n              goToNextYear: goToNextYear.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(EventLabelSelection, {\n              display: this.state.labelsDisplay,\n              activeLabels: this.state.activeLabels,\n              setActiveLabels: this.setActiveLabels.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(EventProjectSelection, {\n              display: this.state.projectsDisplay,\n              activeProjects: this.state.activeProjects,\n              setActiveProjects: this.setActiveProjects.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(EventPrioritySelection, {\n              display: this.state.priorityDisplay,\n              activePriority: this.state.activePriority,\n              setActivePriority: this.setActivePriority.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default AddEvent;","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/AddEvent.js"],"names":["React","addition","calendarIcon","labelIcon","projectIcon","priorityIcon","confirmIcon","controlSign","EventLabelSelection","EventProjectSelection","EventPrioritySelection","addEvent","updateState","store","filterProject","filterDisplayEvents","dateToDateObj","setActiveDate","goToPrevYear","goToNextYear","goToPrevMonth","goToNextMonth","Calendar","SINGLE_DATE_CALENDAR","AddEvent","Component","constructor","props","state","title","text","calendarDisplay","labelsDisplay","projectsDisplay","priorityDisplay","interfaceDisplay","markDate","Date","activeDate","activeLabels","activeProjects","activePriority","handleInputChange","e","setState","target","name","value","setActiveLabels","checked","splice","indexOf","setActiveProjects","setActivePriority","alert","dispatch","getState","allEvents","events","displayAddEventInterface","displayCalendar","displayLabels","displayProjects","displayPriority","render","bind","display"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../styles/SingleEvent.css';\nimport '../styles/AddEvent.css';\nimport addition from '../images/addition.png';\nimport calendarIcon from '../images/calendar.png';\nimport labelIcon from '../images/label.png';\nimport projectIcon from '../images/project.png';\nimport priorityIcon from '../images/priority.png';\nimport confirmIcon from '../images/confirm.png';\nimport controlSign from '../images/control.png';\nimport EventLabelSelection from './EventLabelSelection';\nimport EventProjectSelection from './EventProjectSelection';\nimport EventPrioritySelection from './EventPrioritySelection';\nimport { addEvent } from '../utils/redux';\nimport { updateState } from '../utils/server';\nimport store from '../store';\nimport { filterProject } from '../actions/projectArea';\nimport { filterDisplayEvents } from '../actions/displayArea';\nimport { dateToDateObj, setActiveDate, goToPrevYear, goToNextYear, goToPrevMonth, goToNextMonth} from '../utils/calendar';\nimport Calendar from './Calendar';\nimport { SINGLE_DATE_CALENDAR } from '../utils/constants';\n\nclass AddEvent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            text: '',\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            interfaceDisplay: 'none',\n            markDate: dateToDateObj(new Date()),\n            activeDate: dateToDateObj(new Date()),\n            activeLabels: [],\n            activeProjects: [],\n            activePriority: 'p4',\n        }\n    }\n    handleInputChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    }\n    setActiveLabels(e) {\n        let activeLabels = [...this.state.activeLabels];\n        if(e.target.checked) {\n            this.setState({\n                activeLabels: [...activeLabels, e.target.name]\n            })\n        }\n        else {\n            activeLabels.splice(activeLabels.indexOf(e.target.name), 1)\n            this.setState({\n                activeLabels: activeLabels\n            })\n        }\n    }\n    setActiveProjects(e) {\n        let activeProjects = [...this.state.activeProjects];\n        if(e.target.checked) {\n            this.setState({\n                activeProjects: [...activeProjects, e.target.name]\n            })\n        }\n        else {\n            activeProjects.splice(activeProjects.indexOf(e.target.name), 1)\n            this.setState({\n                activeProjects: activeProjects\n            })\n        }\n    }\n    setActivePriority(e) {\n        this.setState({\n            activePriority: e.target.value\n        })\n    }\n    async addEvent() {\n        if(this.state.title === '') {\n            alert('Title must not be empty!');\n            return;\n        }\n        if(this.state.text === '') {\n            alert('Content must not be empty!');\n            return;\n        }\n        await addEvent(this.state.title, this.state.text, this.state.activeDate, this.state.activeLabels, this.state.activeProjects, this.state.activePriority);\n        updateState();\n        await this.setState({\n            title: '',\n            text: '',\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            interfaceDisplay: 'none',\n            markDate: dateToDateObj(new Date()),\n            activeDate: dateToDateObj(new Date()),\n            activeLabels: [],\n            activeProjects: [],\n            activePriority: [],\n        });\n        await store.dispatch(filterProject(store.getState().allEvents.events));\n        await store.dispatch(filterDisplayEvents(store.getState().allEvents.events));\n    }\n    async displayAddEventInterface() {\n        await this.setState({\n            title: '',\n            text: '',\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            interfaceDisplay: this.state.interfaceDisplay === 'none' ? 'block' : 'none',\n            markDate: dateToDateObj(new Date()),\n            activeDate: dateToDateObj(new Date()),\n            activeLabels: [],\n            activeProjects: [],\n            activePriority: 'p4',\n        });\n    }\n    displayCalendar() {\n        if(this.state.calendarDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'block',\n                labelsDisplay: 'none',\n                projectsDisplay: 'none',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                calendarDisplay: 'none',\n            })\n        }\n    }\n    displayLabels() {\n        if(this.state.labelsDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'block',\n                projectsDisplay: 'none',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                labelsDisplay: 'none',\n            })\n        }\n    }\n    displayProjects() {\n        if(this.state.projectsDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'none',\n                projectsDisplay: 'block',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                projectsDisplay: 'none',\n            })\n        }\n    }\n    displayPriority() {\n        if(this.state.priorityDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'none',\n                projectsDisplay: 'none',\n                priorityDisplay: 'block',\n            });\n        }\n        else {\n            this.setState({\n                priorityDisplay: 'none',\n            })\n        }\n    }\n    render() {\n        return <div>\n                    <div className='event-adder-wrapper' onClick={this.displayAddEventInterface.bind(this)}>\n                        <img className=\"addition-arrow\" src={controlSign}/>\n                        <span className='event-adder-text'>New Event</span>\n                        <img className='event-adder-img' src={addition}></img>\n                    </div>\n                    <div className='single-event' style={{display: this.state.interfaceDisplay}}>\n                        <div className='single-event-minimal'>\n                            <input name=\"title\" value={this.state.title} onChange={this.handleInputChange.bind(this)} className='single-event-title-input' />\n                        </div>\n                        <div className='single-event-details'>\n                            <textarea name=\"text\" value={this.state.text} onChange={this.handleInputChange.bind(this)} className='single-event-text'></textarea>\n                            <div className='single-event-icons'>\n                                <img onClick={this.displayCalendar.bind(this)} className='single-event-icon' src={calendarIcon}/>\n                                <img onClick={this.displayLabels.bind(this)} className='single-event-icon' src={labelIcon}/>\n                                <img onClick={this.displayProjects.bind(this)} className='single-event-icon' src={projectIcon}/>\n                                <img onClick={this.displayPriority.bind(this)} className='single-event-icon' src={priorityIcon}/>\n                                <img onClick={this.addEvent.bind(this)} src={confirmIcon} className='confirm-icon'/>\n                                <Calendar \n                                    type={SINGLE_DATE_CALENDAR} \n                                    display={this.state.calendarDisplay} \n                                    setActiveDate={setActiveDate.bind(this)} \n                                    markDate={this.state.markDate} \n                                    activeDate={this.state.activeDate}\n                                    goToPrevMonth={goToPrevMonth.bind(this)}\n                                    goToNextMonth={goToNextMonth.bind(this)}\n                                    goToPrevYear={goToPrevYear.bind(this)}\n                                    goToNextYear={goToNextYear.bind(this)}/>\n                                <EventLabelSelection display={this.state.labelsDisplay} activeLabels={this.state.activeLabels} setActiveLabels={this.setActiveLabels.bind(this)}/>\n                                <EventProjectSelection display={this.state.projectsDisplay} activeProjects={this.state.activeProjects} setActiveProjects={this.setActiveProjects.bind(this)}/>\n                                <EventPrioritySelection display={this.state.priorityDisplay} activePriority={this.state.activePriority} setActivePriority={this.setActivePriority.bind(this)}/>\n                            </div>\n                        </div>\n                </div>\n            </div>\n    }\n}\n\nexport default AddEvent;"]},"metadata":{},"sourceType":"module"}