{"ast":null,"code":"import _asyncToGenerator from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import'../styles/SingleEvent.css';import'../styles/AddEvent.css';import addition from'../images/addition.png';import calendarIcon from'../images/calendar.png';import labelIcon from'../images/label.png';import projectIcon from'../images/project.png';import priorityIcon from'../images/priority.png';import confirmIcon from'../images/confirm.png';import controlSign from'../images/control.png';import AddEventCalendar from'./AddEventCalendar';import AddEventLabelSelection from'./AddEventLabelSelection';import AddEventProjectSelection from'./AddEventProjectSelection';import AddEventPrioritySelection from'./AddEventPrioritySelection';import{addEvent as _addEvent}from'../utils/redux';import{updateState}from'../utils/server';import store from'../store';import{filterProject}from'../actions/projectArea';import{filterDisplayEvents}from'../actions/displayArea';import{dateToDateObj,setActiveDate,goToPrevYear,goToNextYear,goToPrevMonth,goToNextMonth}from'../utils/calendar';import SingleDateAddEvent from'./SingleDateAddEvent';import Calendar from'./Calendar';import{SINGLE_DATE_CALENDAR}from'../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddEvent=/*#__PURE__*/function(_React$Component){_inherits(AddEvent,_React$Component);var _super=_createSuper(AddEvent);function AddEvent(props){var _this;_classCallCheck(this,AddEvent);_this=_super.call(this,props);_this.state={title:'',text:'',calendarDisplay:'none',labelsDisplay:'none',projectsDisplay:'none',priorityDisplay:'none',interfaceDisplay:'none',markDate:dateToDateObj(new Date()),activeDate:dateToDateObj(new Date()),activeLabels:[],activeProjects:[],activePriority:'p4'};return _this;}_createClass(AddEvent,[{key:\"handleInputChange\",value:function handleInputChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"setActiveLabels\",value:function setActiveLabels(e){var activeLabels=_toConsumableArray(this.state.activeLabels);if(e.target.checked){this.setState({activeLabels:[].concat(_toConsumableArray(activeLabels),[e.target.name])});}else{activeLabels.splice(activeLabels.indexOf(e.target.name),1);this.setState({activeLabels:activeLabels});}}},{key:\"setActiveProjects\",value:function setActiveProjects(e){var activeProjects=_toConsumableArray(this.state.activeProjects);if(e.target.checked){this.setState({activeProjects:[].concat(_toConsumableArray(activeProjects),[e.target.name])});}else{activeProjects.splice(activeProjects.indexOf(e.target.name),1);this.setState({activeProjects:activeProjects});}}},{key:\"setActivePriority\",value:function setActivePriority(e){this.setState({activePriority:e.target.value});}},{key:\"addEvent\",value:function(){var _addEvent2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(this.state.title==='')){_context.next=3;break;}alert('Title must not be empty!');return _context.abrupt(\"return\");case 3:if(!(this.state.text==='')){_context.next=6;break;}alert('Content must not be empty!');return _context.abrupt(\"return\");case 6:_context.next=8;return _addEvent(this.state.title,this.state.text,this.state.activeDate,this.state.activeLabels,this.state.activeProjects,this.state.activePriority);case 8:updateState();_context.next=11;return this.setState({title:'',text:'',calendarDisplay:'none',labelsDisplay:'none',projectsDisplay:'none',priorityDisplay:'none',interfaceDisplay:'none',markDate:dateToDateObj(new Date()),activeDate:dateToDateObj(new Date()),activeLabels:[],activeProjects:[],activePriority:[]});case 11:_context.next=13;return store.dispatch(filterProject(store.getState().allEvents.events));case 13:_context.next=15;return store.dispatch(filterDisplayEvents(store.getState().allEvents.events));case 15:case\"end\":return _context.stop();}}},_callee,this);}));function addEvent(){return _addEvent2.apply(this,arguments);}return addEvent;}()},{key:\"displayAddEventInterface\",value:function(){var _displayAddEventInterface=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.setState({title:'',text:'',calendarDisplay:'none',labelsDisplay:'none',projectsDisplay:'none',priorityDisplay:'none',interfaceDisplay:this.state.interfaceDisplay==='none'?'block':'none',markDate:dateToDateObj(new Date()),activeDate:dateToDateObj(new Date()),activeLabels:[],activeProjects:[],activePriority:'p4'});case 2:case\"end\":return _context2.stop();}}},_callee2,this);}));function displayAddEventInterface(){return _displayAddEventInterface.apply(this,arguments);}return displayAddEventInterface;}()},{key:\"displayCalendar\",value:function displayCalendar(){if(this.state.calendarDisplay==='none'){this.setState({calendarDisplay:'block',labelsDisplay:'none',projectsDisplay:'none',priorityDisplay:'none'});}else{this.setState({calendarDisplay:'none'});}}},{key:\"displayLabels\",value:function displayLabels(){if(this.state.labelsDisplay==='none'){this.setState({calendarDisplay:'none',labelsDisplay:'block',projectsDisplay:'none',priorityDisplay:'none'});}else{this.setState({labelsDisplay:'none'});}}},{key:\"displayProjects\",value:function displayProjects(){if(this.state.projectsDisplay==='none'){this.setState({calendarDisplay:'none',labelsDisplay:'none',projectsDisplay:'block',priorityDisplay:'none'});}else{this.setState({projectsDisplay:'none'});}}},{key:\"displayPriority\",value:function displayPriority(){if(this.state.priorityDisplay==='none'){this.setState({calendarDisplay:'none',labelsDisplay:'none',projectsDisplay:'none',priorityDisplay:'block'});}else{this.setState({priorityDisplay:'none'});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"event-adder-wrapper\",onClick:this.displayAddEventInterface.bind(this),children:[/*#__PURE__*/_jsx(\"img\",{className:\"addition-arrow\",src:controlSign}),/*#__PURE__*/_jsx(\"span\",{className:\"event-adder-text\",children:\"New Event\"}),/*#__PURE__*/_jsx(\"img\",{className:\"event-adder-img\",src:addition})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"single-event\",style:{display:this.state.interfaceDisplay},children:[/*#__PURE__*/_jsx(\"div\",{className:\"single-event-minimal\",children:/*#__PURE__*/_jsx(\"input\",{name:\"title\",value:this.state.title,onChange:this.handleInputChange.bind(this),className:\"single-event-title-input\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"single-event-details\",children:[/*#__PURE__*/_jsx(\"textarea\",{name:\"text\",value:this.state.text,onChange:this.handleInputChange.bind(this),className:\"single-event-text\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"single-event-icons\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:this.displayCalendar.bind(this),className:\"single-event-icon\",src:calendarIcon}),/*#__PURE__*/_jsx(\"img\",{onClick:this.displayLabels.bind(this),className:\"single-event-icon\",src:labelIcon}),/*#__PURE__*/_jsx(\"img\",{onClick:this.displayProjects.bind(this),className:\"single-event-icon\",src:projectIcon}),/*#__PURE__*/_jsx(\"img\",{onClick:this.displayPriority.bind(this),className:\"single-event-icon\",src:priorityIcon}),/*#__PURE__*/_jsx(\"img\",{onClick:this.addEvent.bind(this),src:confirmIcon,className:\"confirm-icon\"}),/*#__PURE__*/_jsx(Calendar,{type:SINGLE_DATE_CALENDAR,display:this.state.calendarDisplay,setActiveDate:setActiveDate.bind(this),markDate:this.state.markDate,activeDate:this.state.activeDate,goToPrevMonth:goToPrevMonth.bind(this),goToNextMonth:goToNextMonth.bind(this),goToPrevYear:goToPrevYear.bind(this),goToNextYear:goToNextYear.bind(this)}),/*#__PURE__*/_jsx(AddEventLabelSelection,{display:this.state.labelsDisplay,activeLabels:this.state.activeLabels,setActiveLabels:this.setActiveLabels.bind(this)}),/*#__PURE__*/_jsx(AddEventProjectSelection,{display:this.state.projectsDisplay,activeProjects:this.state.activeProjects,setActiveProjects:this.setActiveProjects.bind(this)}),/*#__PURE__*/_jsx(AddEventPrioritySelection,{display:this.state.priorityDisplay,activePriority:this.state.activePriority,setActivePriority:this.setActivePriority.bind(this)})]})]})]})]});}}]);return AddEvent;}(React.Component);export default AddEvent;","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/AddEvent.js"],"names":["React","addition","calendarIcon","labelIcon","projectIcon","priorityIcon","confirmIcon","controlSign","AddEventCalendar","AddEventLabelSelection","AddEventProjectSelection","AddEventPrioritySelection","addEvent","updateState","store","filterProject","filterDisplayEvents","dateToDateObj","setActiveDate","goToPrevYear","goToNextYear","goToPrevMonth","goToNextMonth","SingleDateAddEvent","Calendar","SINGLE_DATE_CALENDAR","AddEvent","props","state","title","text","calendarDisplay","labelsDisplay","projectsDisplay","priorityDisplay","interfaceDisplay","markDate","Date","activeDate","activeLabels","activeProjects","activePriority","e","setState","target","name","value","checked","splice","indexOf","alert","dispatch","getState","allEvents","events","displayAddEventInterface","bind","display","handleInputChange","displayCalendar","displayLabels","displayProjects","displayPriority","setActiveLabels","setActiveProjects","setActivePriority","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../styles/SingleEvent.css';\nimport '../styles/AddEvent.css';\nimport addition from '../images/addition.png';\nimport calendarIcon from '../images/calendar.png';\nimport labelIcon from '../images/label.png';\nimport projectIcon from '../images/project.png';\nimport priorityIcon from '../images/priority.png';\nimport confirmIcon from '../images/confirm.png';\nimport controlSign from '../images/control.png';\nimport AddEventCalendar from './AddEventCalendar';\nimport AddEventLabelSelection from './AddEventLabelSelection';\nimport AddEventProjectSelection from './AddEventProjectSelection';\nimport AddEventPrioritySelection from './AddEventPrioritySelection';\nimport { addEvent } from '../utils/redux';\nimport { updateState } from '../utils/server';\nimport store from '../store';\nimport { filterProject } from '../actions/projectArea';\nimport { filterDisplayEvents } from '../actions/displayArea';\nimport { dateToDateObj, setActiveDate, goToPrevYear, goToNextYear, goToPrevMonth, goToNextMonth} from '../utils/calendar';\nimport SingleDateAddEvent from './SingleDateAddEvent';\nimport Calendar from './Calendar';\nimport { SINGLE_DATE_CALENDAR } from '../utils/constants';\n\nclass AddEvent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            text: '',\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            interfaceDisplay: 'none',\n            markDate: dateToDateObj(new Date()),\n            activeDate: dateToDateObj(new Date()),\n            activeLabels: [],\n            activeProjects: [],\n            activePriority: 'p4',\n        }\n    }\n    handleInputChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    }\n    setActiveLabels(e) {\n        let activeLabels = [...this.state.activeLabels];\n        if(e.target.checked) {\n            this.setState({\n                activeLabels: [...activeLabels, e.target.name]\n            })\n        }\n        else {\n            activeLabels.splice(activeLabels.indexOf(e.target.name), 1)\n            this.setState({\n                activeLabels: activeLabels\n            })\n        }\n    }\n    setActiveProjects(e) {\n        let activeProjects = [...this.state.activeProjects];\n        if(e.target.checked) {\n            this.setState({\n                activeProjects: [...activeProjects, e.target.name]\n            })\n        }\n        else {\n            activeProjects.splice(activeProjects.indexOf(e.target.name), 1)\n            this.setState({\n                activeProjects: activeProjects\n            })\n        }\n    }\n    setActivePriority(e) {\n        this.setState({\n            activePriority: e.target.value\n        })\n    }\n    async addEvent() {\n        if(this.state.title === '') {\n            alert('Title must not be empty!');\n            return;\n        }\n        if(this.state.text === '') {\n            alert('Content must not be empty!');\n            return;\n        }\n        await addEvent(this.state.title, this.state.text, this.state.activeDate, this.state.activeLabels, this.state.activeProjects, this.state.activePriority);\n        updateState();\n        await this.setState({\n            title: '',\n            text: '',\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            interfaceDisplay: 'none',\n            markDate: dateToDateObj(new Date()),\n            activeDate: dateToDateObj(new Date()),\n            activeLabels: [],\n            activeProjects: [],\n            activePriority: [],\n        });\n        await store.dispatch(filterProject(store.getState().allEvents.events));\n        await store.dispatch(filterDisplayEvents(store.getState().allEvents.events));\n    }\n    async displayAddEventInterface() {\n        await this.setState({\n            title: '',\n            text: '',\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            interfaceDisplay: this.state.interfaceDisplay === 'none' ? 'block' : 'none',\n            markDate: dateToDateObj(new Date()),\n            activeDate: dateToDateObj(new Date()),\n            activeLabels: [],\n            activeProjects: [],\n            activePriority: 'p4',\n        });\n    }\n    displayCalendar() {\n        if(this.state.calendarDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'block',\n                labelsDisplay: 'none',\n                projectsDisplay: 'none',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                calendarDisplay: 'none',\n            })\n        }\n    }\n    displayLabels() {\n        if(this.state.labelsDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'block',\n                projectsDisplay: 'none',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                labelsDisplay: 'none',\n            })\n        }\n    }\n    displayProjects() {\n        if(this.state.projectsDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'none',\n                projectsDisplay: 'block',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                projectsDisplay: 'none',\n            })\n        }\n    }\n    displayPriority() {\n        if(this.state.priorityDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'none',\n                projectsDisplay: 'none',\n                priorityDisplay: 'block',\n            });\n        }\n        else {\n            this.setState({\n                priorityDisplay: 'none',\n            })\n        }\n    }\n    render() {\n        return <div>\n                    <div className='event-adder-wrapper' onClick={this.displayAddEventInterface.bind(this)}>\n                        <img className=\"addition-arrow\" src={controlSign}/>\n                        <span className='event-adder-text'>New Event</span>\n                        <img className='event-adder-img' src={addition}></img>\n                    </div>\n                    <div className='single-event' style={{display: this.state.interfaceDisplay}}>\n                        <div className='single-event-minimal'>\n                            <input name=\"title\" value={this.state.title} onChange={this.handleInputChange.bind(this)} className='single-event-title-input' />\n                        </div>\n                        <div className='single-event-details'>\n                            <textarea name=\"text\" value={this.state.text} onChange={this.handleInputChange.bind(this)} className='single-event-text'></textarea>\n                            <div className='single-event-icons'>\n                                <img onClick={this.displayCalendar.bind(this)} className='single-event-icon' src={calendarIcon}/>\n                                <img onClick={this.displayLabels.bind(this)} className='single-event-icon' src={labelIcon}/>\n                                <img onClick={this.displayProjects.bind(this)} className='single-event-icon' src={projectIcon}/>\n                                <img onClick={this.displayPriority.bind(this)} className='single-event-icon' src={priorityIcon}/>\n                                <img onClick={this.addEvent.bind(this)} src={confirmIcon} className='confirm-icon'/>\n                                <Calendar \n                                    type={SINGLE_DATE_CALENDAR} \n                                    display={this.state.calendarDisplay} \n                                    setActiveDate={setActiveDate.bind(this)} \n                                    markDate={this.state.markDate} \n                                    activeDate={this.state.activeDate}\n                                    goToPrevMonth={goToPrevMonth.bind(this)}\n                                    goToNextMonth={goToNextMonth.bind(this)}\n                                    goToPrevYear={goToPrevYear.bind(this)}\n                                    goToNextYear={goToNextYear.bind(this)}/>\n                                <AddEventLabelSelection display={this.state.labelsDisplay} activeLabels={this.state.activeLabels} setActiveLabels={this.setActiveLabels.bind(this)}/>\n                                <AddEventProjectSelection display={this.state.projectsDisplay} activeProjects={this.state.activeProjects} setActiveProjects={this.setActiveProjects.bind(this)}/>\n                                <AddEventPrioritySelection display={this.state.priorityDisplay} activePriority={this.state.activePriority} setActivePriority={this.setActivePriority.bind(this)}/>\n                            </div>\n                        </div>\n                </div>\n            </div>\n    }\n}\n\nexport default AddEvent;"]},"metadata":{},"sourceType":"module"}