{"ast":null,"code":"var _jsxFileName = \"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/SingleEvent.js\";\nimport React from 'react';\nimport '../styles/SingleEvent.css';\nimport check from '../images/check.png';\nimport calendarIcon from '../images/calendar.png';\nimport labelIcon from '../images/label.png';\nimport projectIcon from '../images/project.png';\nimport priorityIcon from '../images/priority.png';\nimport confirmIcon from '../images/confirm.png';\nimport EventCalendar from './EventCalendar';\nimport EventLabelSelection from './EventLabelSelection';\nimport EventProjectSelection from './EventProjectSelection';\nimport EventPrioritySelection from './EventPrioritySelection';\nimport store from '../store';\nimport { getPreviousMonthDateObj, getNextMonthDateObj, getPreviousYearDateObj, getNextYearDateObj } from '../utils/calendar';\nimport { updateEvent, setState } from '../actions/allEvents';\nimport { filterDisplayEvents } from '../actions/displayArea';\nimport { filterProject } from '../actions/projectArea';\nimport { updateState } from '../utils/server';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SingleEvent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: this.props.title,\n      text: this.props.text,\n      calendarDisplay: 'none',\n      labelsDisplay: 'none',\n      projectsDisplay: 'none',\n      priorityDisplay: 'none',\n      interfaceDisplay: 'none',\n      markDate: this.props.activeDate,\n      activeDate: this.props.activeDate,\n      activeLabels: this.props.activeLabels,\n      activeProjects: this.props.activeProjects,\n      activePriority: this.props.activePriority\n    };\n    this.initialText = this.state.text;\n    this.initialMarkDate = [...this.state.markDate];\n    this.initialActiveDate = [...this.state.activeDate];\n    this.initialActiveLabels = [...this.state.activeLabels];\n    this.initialActiveProjects = [...this.state.activeProjects];\n    this.initialActivePriority = this.state.activePriority;\n  }\n\n  displayInterface() {\n    this.setState({\n      interfaceDisplay: this.state.interfaceDisplay === 'none' ? 'block' : 'none',\n      calendarDisplay: 'none',\n      labelsDisplay: 'none',\n      projectsDisplay: 'none',\n      priorityDisplay: 'none',\n      text: this.initialText,\n      markDate: this.initialMarkDate,\n      activeDate: this.initialActiveDate,\n      activeLabels: this.initialActiveLabels,\n      activeProjects: this.initialActiveProjects,\n      activePriority: this.initialActivePriority\n    });\n  }\n\n  displayCalendar() {\n    if (this.state.calendarDisplay === 'none') {\n      this.setState({\n        calendarDisplay: 'block',\n        labelsDisplay: 'none',\n        projectsDisplay: 'none',\n        priorityDisplay: 'none'\n      });\n    } else {\n      this.setState({\n        calendarDisplay: 'none'\n      });\n    }\n  }\n\n  displayLabels() {\n    if (this.state.labelsDisplay === 'none') {\n      this.setState({\n        calendarDisplay: 'none',\n        labelsDisplay: 'block',\n        projectsDisplay: 'none',\n        priorityDisplay: 'none'\n      });\n    } else {\n      this.setState({\n        labelsDisplay: 'none'\n      });\n    }\n  }\n\n  displayProjects() {\n    if (this.state.projectsDisplay === 'none') {\n      this.setState({\n        calendarDisplay: 'none',\n        labelsDisplay: 'none',\n        projectsDisplay: 'block',\n        priorityDisplay: 'none'\n      });\n    } else {\n      this.setState({\n        projectsDisplay: 'none'\n      });\n    }\n  }\n\n  displayPriority() {\n    if (this.state.priorityDisplay === 'none') {\n      this.setState({\n        calendarDisplay: 'none',\n        labelsDisplay: 'none',\n        projectsDisplay: 'none',\n        priorityDisplay: 'block'\n      });\n    } else {\n      this.setState({\n        priorityDisplay: 'none'\n      });\n    }\n  }\n\n  setActiveLabels(e) {\n    let activeLabels = [...this.state.activeLabels];\n\n    if (e.target.checked) {\n      this.setState({\n        activeLabels: [...activeLabels, e.target.name]\n      });\n    } else {\n      activeLabels.splice(activeLabels.indexOf(e.target.name), 1);\n      this.setState({\n        activeLabels: activeLabels\n      });\n    }\n  }\n\n  setActiveProjects(e) {\n    let activeProjects = [...this.state.activeProjects];\n\n    if (e.target.checked) {\n      this.setState({\n        activeProjects: [...activeProjects, e.target.name]\n      });\n    } else {\n      activeProjects.splice(activeProjects.indexOf(e.target.name), 1);\n      this.setState({\n        activeProjects: activeProjects\n      });\n    }\n  }\n\n  setActivePriority(e) {\n    this.setState({\n      activePriority: e.target.value\n    });\n  }\n\n  async confirmChange() {\n    let event = {\n      title: this.state.title,\n      text: this.state.text,\n      activeDate: this.state.activeDate,\n      activeLabels: this.state.activeLabels,\n      activeProjects: this.state.activeProjects,\n      activePriority: this.state.activePriority\n    };\n    await store.dispatch(updateEvent(event, this.props.eventIndex));\n    await store.dispatch(filterDisplayEvents(store.getState().allEvents.events));\n    await store.dispatch(filterProject(store.getState().allEvents.events));\n    await updateState();\n  }\n\n  async completeEvent() {\n    let newState = JSON.parse(JSON.stringify(store.getState().allEvents));\n    newState.events.splice(this.props.eventIndex, 1);\n    await store.dispatch(setState(newState));\n    await store.dispatch(filterDisplayEvents(store.getState().allEvents.events));\n    await store.dispatch(filterProject(store.getState().allEvents.events));\n    await updateState();\n  }\n\n  goToPrevYear() {\n    this.setState({\n      markDate: getPreviousYearDateObj(this.state.markDate)\n    });\n  }\n\n  goToNextYear() {\n    this.setState({\n      markDate: getNextYearDateObj(this.state.markDate)\n    });\n  }\n\n  goToPrevMonth() {\n    this.setState({\n      markDate: getPreviousMonthDateObj(this.state.markDate)\n    });\n  }\n\n  goToNextMonth() {\n    this.setState({\n      markDate: getNextMonthDateObj(this.state.markDate)\n    });\n  }\n\n  setActiveDate(date) {\n    let dateObj = this.state.markDate;\n    dateObj[2] = date;\n    this.setState({\n      markDate: dateObj,\n      activeDate: dateObj\n    });\n  }\n\n  setText(e) {\n    this.setState({\n      text: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"single-event\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"single-event-minimal\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"check\",\n          src: check,\n          onClick: this.completeEvent.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"single-event-title\",\n          onClick: this.displayInterface.bind(this),\n          children: this.state.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"single-event-details\",\n        style: {\n          display: this.state.interfaceDisplay\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"single-event-text\",\n          value: this.state.text,\n          onChange: this.setText.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"single-event-icons\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: this.displayCalendar.bind(this),\n            className: \"single-event-icon\",\n            src: calendarIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: this.displayLabels.bind(this),\n            className: \"single-event-icon\",\n            src: labelIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: this.displayProjects.bind(this),\n            className: \"single-event-icon\",\n            src: projectIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: this.displayPriority.bind(this),\n            className: \"single-event-icon\",\n            src: priorityIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: this.confirmChange.bind(this),\n            src: confirmIcon,\n            className: \"confirm-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(EventCalendar, {\n            eventIndex: this.props.eventIndex,\n            display: this.state.calendarDisplay,\n            goToPrevMonth: this.goToPrevMonth.bind(this),\n            goToNextMonth: this.goToNextMonth.bind(this),\n            goToPrevYear: this.goToPrevYear.bind(this),\n            goToNextYear: this.goToNextYear.bind(this),\n            markDate: this.state.markDate,\n            activeDate: this.state.activeDate,\n            setActiveDate: this.setActiveDate.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(EventLabelSelection, {\n            eventIndex: this.props.eventIndex,\n            display: this.state.labelsDisplay,\n            activeLabels: this.state.activeLabels,\n            setActiveLabels: this.setActiveLabels.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(EventProjectSelection, {\n            eventIndex: this.props.eventIndex,\n            display: this.state.projectsDisplay,\n            activeProjects: this.state.activeProjects,\n            setActiveProjects: this.setActiveProjects.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(EventPrioritySelection, {\n            eventIndex: this.props.eventIndex,\n            display: this.state.priorityDisplay,\n            activePriority: this.state.activePriority,\n            setActivePriority: this.setActivePriority.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default SingleEvent;","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/SingleEvent.js"],"names":["React","check","calendarIcon","labelIcon","projectIcon","priorityIcon","confirmIcon","EventCalendar","EventLabelSelection","EventProjectSelection","EventPrioritySelection","store","getPreviousMonthDateObj","getNextMonthDateObj","getPreviousYearDateObj","getNextYearDateObj","updateEvent","setState","filterDisplayEvents","filterProject","updateState","SingleEvent","Component","constructor","props","state","title","text","calendarDisplay","labelsDisplay","projectsDisplay","priorityDisplay","interfaceDisplay","markDate","activeDate","activeLabels","activeProjects","activePriority","initialText","initialMarkDate","initialActiveDate","initialActiveLabels","initialActiveProjects","initialActivePriority","displayInterface","displayCalendar","displayLabels","displayProjects","displayPriority","setActiveLabels","e","target","checked","name","splice","indexOf","setActiveProjects","setActivePriority","value","confirmChange","event","dispatch","eventIndex","getState","allEvents","events","completeEvent","newState","JSON","parse","stringify","goToPrevYear","goToNextYear","goToPrevMonth","goToNextMonth","setActiveDate","date","dateObj","setText","render","bind","display"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../styles/SingleEvent.css';\nimport check from '../images/check.png';\nimport calendarIcon from '../images/calendar.png';\nimport labelIcon from '../images/label.png';\nimport projectIcon from '../images/project.png';\nimport priorityIcon from '../images/priority.png';\nimport confirmIcon from '../images/confirm.png';\nimport EventCalendar from './EventCalendar';\nimport EventLabelSelection from './EventLabelSelection';\nimport EventProjectSelection from './EventProjectSelection';\nimport EventPrioritySelection from './EventPrioritySelection';\nimport store from '../store';\nimport { getPreviousMonthDateObj, getNextMonthDateObj, getPreviousYearDateObj, getNextYearDateObj} from '../utils/calendar';\nimport { updateEvent, setState } from '../actions/allEvents';\nimport { filterDisplayEvents } from '../actions/displayArea';\nimport { filterProject } from '../actions/projectArea';\nimport { updateState } from '../utils/server';\n\nclass SingleEvent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: this.props.title,\n            text: this.props.text,\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            interfaceDisplay: 'none',\n            markDate: this.props.activeDate,\n            activeDate: this.props.activeDate,\n            activeLabels: this.props.activeLabels,\n            activeProjects: this.props.activeProjects,\n            activePriority: this.props.activePriority,\n        }\n        this.initialText = this.state.text;\n        this.initialMarkDate = [...this.state.markDate];\n        this.initialActiveDate = [...this.state.activeDate];\n        this.initialActiveLabels = [...this.state.activeLabels];\n        this.initialActiveProjects = [...this.state.activeProjects];\n        this.initialActivePriority = this.state.activePriority;\n    }\n    displayInterface() {\n        this.setState({\n            interfaceDisplay: this.state.interfaceDisplay === 'none' ? 'block' : 'none',\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            text: this.initialText,\n            markDate: this.initialMarkDate,\n            activeDate: this.initialActiveDate,\n            activeLabels: this.initialActiveLabels,\n            activeProjects: this.initialActiveProjects,\n            activePriority: this.initialActivePriority,\n        });\n    }\n    displayCalendar() {\n        if(this.state.calendarDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'block',\n                labelsDisplay: 'none',\n                projectsDisplay: 'none',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                calendarDisplay: 'none',\n            })\n        }\n    }\n    displayLabels() {\n        if(this.state.labelsDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'block',\n                projectsDisplay: 'none',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                labelsDisplay: 'none',\n            })\n        }\n    }\n    displayProjects() {\n        if(this.state.projectsDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'none',\n                projectsDisplay: 'block',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                projectsDisplay: 'none',\n            })\n        }\n    }\n    displayPriority() {\n        if(this.state.priorityDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'none',\n                projectsDisplay: 'none',\n                priorityDisplay: 'block',\n            });\n        }\n        else {\n            this.setState({\n                priorityDisplay: 'none',\n            })\n        }\n    }\n    setActiveLabels(e) {\n        let activeLabels = [...this.state.activeLabels];\n        if(e.target.checked) {\n            this.setState({\n                activeLabels: [...activeLabels, e.target.name]\n            })\n        }\n        else {\n            activeLabels.splice(activeLabels.indexOf(e.target.name), 1)\n            this.setState({\n                activeLabels: activeLabels\n            })\n        }\n    }\n    setActiveProjects(e) {\n        let activeProjects = [...this.state.activeProjects];\n        if(e.target.checked) {\n            this.setState({\n                activeProjects: [...activeProjects, e.target.name]\n            })\n        }\n        else {\n            activeProjects.splice(activeProjects.indexOf(e.target.name), 1)\n            this.setState({\n                activeProjects: activeProjects\n            })\n        }\n    }\n    setActivePriority(e) {\n        this.setState({\n            activePriority: e.target.value\n        })\n    }\n    async confirmChange() {\n        let event = {\n            title: this.state.title,\n            text: this.state.text,\n            activeDate: this.state.activeDate,\n            activeLabels: this.state.activeLabels,\n            activeProjects: this.state.activeProjects,\n            activePriority: this.state.activePriority,\n        }\n        await store.dispatch(updateEvent(event, this.props.eventIndex));\n        await store.dispatch(filterDisplayEvents(store.getState().allEvents.events));\n        await store.dispatch(filterProject(store.getState().allEvents.events));\n        await updateState();\n    }\n    async completeEvent() {\n        let newState = JSON.parse(JSON.stringify(store.getState().allEvents));\n        newState.events.splice(this.props.eventIndex, 1);\n        await store.dispatch(setState(newState));\n        await store.dispatch(filterDisplayEvents(store.getState().allEvents.events));\n        await store.dispatch(filterProject(store.getState().allEvents.events));\n        await updateState();\n    }\n    goToPrevYear() {\n        this.setState({\n            markDate: getPreviousYearDateObj(this.state.markDate)\n        })\n    }\n    goToNextYear() {\n        this.setState({\n            markDate: getNextYearDateObj(this.state.markDate)\n        })\n    }\n    goToPrevMonth() {\n        this.setState({\n            markDate: getPreviousMonthDateObj(this.state.markDate)\n        })\n    }\n    goToNextMonth() {\n        this.setState({\n            markDate: getNextMonthDateObj(this.state.markDate)\n        })\n    }\n    setActiveDate(date) {\n        let dateObj = this.state.markDate;\n        dateObj[2] = date;\n        this.setState({\n            markDate: dateObj,\n            activeDate: dateObj,\n        });\n    }\n    setText(e) {\n        this.setState({\n            text: e.target.value\n        })\n    }\n    render() {\n        return <div className='single-event'>\n                <div className='single-event-minimal'>\n                    <img className='check' src={check} onClick={this.completeEvent.bind(this)}></img>\n                    <span className='single-event-title' onClick={this.displayInterface.bind(this)}>{this.state.title}</span>\n                </div>\n                <div className='single-event-details' style={{display: this.state.interfaceDisplay}}>\n                    <textarea className='single-event-text' value={this.state.text} onChange={this.setText.bind(this)}></textarea>\n                    <div className='single-event-icons'>\n                        <img onClick={this.displayCalendar.bind(this)} className='single-event-icon' src={calendarIcon}/>\n                        <img onClick={this.displayLabels.bind(this)} className='single-event-icon' src={labelIcon}/>\n                        <img onClick={this.displayProjects.bind(this)} className='single-event-icon' src={projectIcon}/>\n                        <img onClick={this.displayPriority.bind(this)} className='single-event-icon' src={priorityIcon}/>\n                        <img onClick={this.confirmChange.bind(this)} src={confirmIcon} className='confirm-icon'/>\n                        <EventCalendar \n                            eventIndex={this.props.eventIndex} \n                            display={this.state.calendarDisplay} \n                            goToPrevMonth={this.goToPrevMonth.bind(this)}\n                            goToNextMonth={this.goToNextMonth.bind(this)}\n                            goToPrevYear={this.goToPrevYear.bind(this)}\n                            goToNextYear={this.goToNextYear.bind(this)}\n                            markDate={this.state.markDate}\n                            activeDate={this.state.activeDate}\n                            setActiveDate={this.setActiveDate.bind(this)}/>\n                        <EventLabelSelection eventIndex={this.props.eventIndex} display={this.state.labelsDisplay} activeLabels={this.state.activeLabels} setActiveLabels={this.setActiveLabels.bind(this)}/>\n                        <EventProjectSelection eventIndex={this.props.eventIndex} display={this.state.projectsDisplay} activeProjects={this.state.activeProjects} setActiveProjects={this.setActiveProjects.bind(this)}/>\n                        <EventPrioritySelection eventIndex={this.props.eventIndex} display={this.state.priorityDisplay} activePriority={this.state.activePriority} setActivePriority={this.setActivePriority.bind(this)}/>\n                    </div>\n                </div>\n            </div>\n    }\n}\n\nexport default SingleEvent;"]},"metadata":{},"sourceType":"module"}