{"ast":null,"code":"import _asyncToGenerator from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import'../styles/SingleEvent.css';import check from'../images/check.png';import calendarIcon from'../images/calendar.png';import labelIcon from'../images/label.png';import projectIcon from'../images/project.png';import priorityIcon from'../images/priority.png';import confirmIcon from'../images/confirm.png';import Calendar from'./Calendar';import EventLabelSelection from'./EventLabelSelection';import EventProjectSelection from'./EventProjectSelection';import EventPrioritySelection from'./EventPrioritySelection';import store from'../store';import{getPreviousMonthDateObj,getNextMonthDateObj,getPreviousYearDateObj,getNextYearDateObj,goToPrevMonth,goToNextMonth,goToPrevYear,goToNextYear,setActiveDate}from'../utils/calendar';import{updateEvent,setState}from'../actions/allEvents';import{filterDisplayEvents}from'../actions/displayArea';import{filterProject}from'../actions/projectArea';import{updateState}from'../utils/server';import{SINGLE_DATE_CALENDAR}from'../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SingleEvent=/*#__PURE__*/function(_React$Component){_inherits(SingleEvent,_React$Component);var _super=_createSuper(SingleEvent);function SingleEvent(props){var _this;_classCallCheck(this,SingleEvent);_this=_super.call(this,props);_this.state={title:_this.props.title,text:_this.props.text,calendarDisplay:'none',labelsDisplay:'none',projectsDisplay:'none',priorityDisplay:'none',interfaceDisplay:'none',markDate:_this.props.activeDate,activeDate:_this.props.activeDate,activeLabels:_this.props.activeLabels,activeProjects:_this.props.activeProjects,activePriority:_this.props.activePriority};_this.initialText=_this.state.text;_this.initialMarkDate=_toConsumableArray(_this.state.markDate);_this.initialActiveDate=_toConsumableArray(_this.state.activeDate);_this.initialActiveLabels=_toConsumableArray(_this.state.activeLabels);_this.initialActiveProjects=_toConsumableArray(_this.state.activeProjects);_this.initialActivePriority=_this.state.activePriority;return _this;}_createClass(SingleEvent,[{key:\"displayInterface\",value:function displayInterface(){this.setState({interfaceDisplay:this.state.interfaceDisplay==='none'?'block':'none',calendarDisplay:'none',labelsDisplay:'none',projectsDisplay:'none',priorityDisplay:'none',text:this.initialText,markDate:this.initialMarkDate,activeDate:this.initialActiveDate,activeLabels:this.initialActiveLabels,activeProjects:this.initialActiveProjects,activePriority:this.initialActivePriority});}},{key:\"displayCalendar\",value:function displayCalendar(){if(this.state.calendarDisplay==='none'){this.setState({calendarDisplay:'block',labelsDisplay:'none',projectsDisplay:'none',priorityDisplay:'none'});}else{this.setState({calendarDisplay:'none'});}}},{key:\"displayLabels\",value:function displayLabels(){if(this.state.labelsDisplay==='none'){this.setState({calendarDisplay:'none',labelsDisplay:'block',projectsDisplay:'none',priorityDisplay:'none'});}else{this.setState({labelsDisplay:'none'});}}},{key:\"displayProjects\",value:function displayProjects(){if(this.state.projectsDisplay==='none'){this.setState({calendarDisplay:'none',labelsDisplay:'none',projectsDisplay:'block',priorityDisplay:'none'});}else{this.setState({projectsDisplay:'none'});}}},{key:\"displayPriority\",value:function displayPriority(){if(this.state.priorityDisplay==='none'){this.setState({calendarDisplay:'none',labelsDisplay:'none',projectsDisplay:'none',priorityDisplay:'block'});}else{this.setState({priorityDisplay:'none'});}}},{key:\"setActiveLabels\",value:function setActiveLabels(e){var activeLabels=_toConsumableArray(this.state.activeLabels);if(e.target.checked){this.setState({activeLabels:[].concat(_toConsumableArray(activeLabels),[e.target.name])});}else{activeLabels.splice(activeLabels.indexOf(e.target.name),1);this.setState({activeLabels:activeLabels});}}},{key:\"setActiveProjects\",value:function setActiveProjects(e){var activeProjects=_toConsumableArray(this.state.activeProjects);if(e.target.checked){this.setState({activeProjects:[].concat(_toConsumableArray(activeProjects),[e.target.name])});}else{activeProjects.splice(activeProjects.indexOf(e.target.name),1);this.setState({activeProjects:activeProjects});}}},{key:\"setActivePriority\",value:function setActivePriority(e){this.setState({activePriority:e.target.value});}},{key:\"confirmChange\",value:function(){var _confirmChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var event;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event={title:this.state.title,text:this.state.text,activeDate:this.state.activeDate,activeLabels:this.state.activeLabels,activeProjects:this.state.activeProjects,activePriority:this.state.activePriority};_context.next=3;return store.dispatch(updateEvent(event,this.props.eventIndex));case 3:_context.next=5;return store.dispatch(filterDisplayEvents(store.getState().allEvents.events));case 5:_context.next=7;return store.dispatch(filterProject(store.getState().allEvents.events));case 7:_context.next=9;return updateState();case 9:case\"end\":return _context.stop();}}},_callee,this);}));function confirmChange(){return _confirmChange.apply(this,arguments);}return confirmChange;}()},{key:\"completeEvent\",value:function(){var _completeEvent=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var newState;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:newState=JSON.parse(JSON.stringify(store.getState().allEvents));newState.events.splice(this.props.eventIndex,1);_context2.next=4;return store.dispatch(setState(newState));case 4:_context2.next=6;return store.dispatch(filterDisplayEvents(store.getState().allEvents.events));case 6:_context2.next=8;return store.dispatch(filterProject(store.getState().allEvents.events));case 8:_context2.next=10;return updateState();case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function completeEvent(){return _completeEvent.apply(this,arguments);}return completeEvent;}()},{key:\"goToPrevYear\",value:function goToPrevYear(){this.setState({markDate:getPreviousYearDateObj(this.state.markDate)});}},{key:\"goToNextYear\",value:function goToNextYear(){this.setState({markDate:getNextYearDateObj(this.state.markDate)});}},{key:\"goToPrevMonth\",value:function goToPrevMonth(){this.setState({markDate:getPreviousMonthDateObj(this.state.markDate)});}},{key:\"goToNextMonth\",value:function goToNextMonth(){this.setState({markDate:getNextMonthDateObj(this.state.markDate)});}},{key:\"setActiveDate\",value:function setActiveDate(date){var dateObj=this.state.markDate;dateObj[2]=date;this.setState({markDate:dateObj,activeDate:dateObj});}},{key:\"setText\",value:function setText(e){this.setState({text:e.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"single-event\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"single-event-minimal\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"check\",src:check,onClick:this.completeEvent.bind(this)}),/*#__PURE__*/_jsx(\"span\",{className:\"single-event-title\",onClick:this.displayInterface.bind(this),children:this.state.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"single-event-details\",style:{display:this.state.interfaceDisplay},children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"single-event-text\",value:this.state.text,onChange:this.setText.bind(this)}),/*#__PURE__*/_jsxs(\"div\",{className:\"single-event-icons\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:this.displayCalendar.bind(this),className:\"single-event-icon\",src:calendarIcon}),/*#__PURE__*/_jsx(\"img\",{onClick:this.displayLabels.bind(this),className:\"single-event-icon\",src:labelIcon}),/*#__PURE__*/_jsx(\"img\",{onClick:this.displayProjects.bind(this),className:\"single-event-icon\",src:projectIcon}),/*#__PURE__*/_jsx(\"img\",{onClick:this.displayPriority.bind(this),className:\"single-event-icon\",src:priorityIcon}),/*#__PURE__*/_jsx(\"img\",{onClick:this.confirmChange.bind(this),src:confirmIcon,className:\"confirm-icon\"}),/*#__PURE__*/_jsx(Calendar,{type:SINGLE_DATE_CALENDAR,display:this.state.calendarDisplay,setActiveDate:setActiveDate.bind(this),markDate:this.state.markDate,activeDate:this.state.activeDate,goToPrevMonth:goToPrevMonth.bind(this),goToNextMonth:goToNextMonth.bind(this),goToPrevYear:goToPrevYear.bind(this),goToNextYear:goToNextYear.bind(this)}),/*#__PURE__*/_jsx(EventLabelSelection,{eventIndex:this.props.eventIndex,display:this.state.labelsDisplay,activeLabels:this.state.activeLabels,setActiveLabels:this.setActiveLabels.bind(this)}),/*#__PURE__*/_jsx(EventProjectSelection,{eventIndex:this.props.eventIndex,display:this.state.projectsDisplay,activeProjects:this.state.activeProjects,setActiveProjects:this.setActiveProjects.bind(this)}),/*#__PURE__*/_jsx(EventPrioritySelection,{eventIndex:this.props.eventIndex,display:this.state.priorityDisplay,activePriority:this.state.activePriority,setActivePriority:this.setActivePriority.bind(this)})]})]})]});}}]);return SingleEvent;}(React.Component);export default SingleEvent;","map":{"version":3,"sources":["/Users/zechuanxiao/Documents/Vanderbilt/Junior/Projects/DoListGo/TodoListN/src/components/SingleEvent.js"],"names":["React","check","calendarIcon","labelIcon","projectIcon","priorityIcon","confirmIcon","Calendar","EventLabelSelection","EventProjectSelection","EventPrioritySelection","store","getPreviousMonthDateObj","getNextMonthDateObj","getPreviousYearDateObj","getNextYearDateObj","goToPrevMonth","goToNextMonth","goToPrevYear","goToNextYear","setActiveDate","updateEvent","setState","filterDisplayEvents","filterProject","updateState","SINGLE_DATE_CALENDAR","SingleEvent","props","state","title","text","calendarDisplay","labelsDisplay","projectsDisplay","priorityDisplay","interfaceDisplay","markDate","activeDate","activeLabels","activeProjects","activePriority","initialText","initialMarkDate","initialActiveDate","initialActiveLabels","initialActiveProjects","initialActivePriority","e","target","checked","name","splice","indexOf","value","event","dispatch","eventIndex","getState","allEvents","events","newState","JSON","parse","stringify","date","dateObj","completeEvent","bind","displayInterface","display","setText","displayCalendar","displayLabels","displayProjects","displayPriority","confirmChange","setActiveLabels","setActiveProjects","setActivePriority","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../styles/SingleEvent.css';\nimport check from '../images/check.png';\nimport calendarIcon from '../images/calendar.png';\nimport labelIcon from '../images/label.png';\nimport projectIcon from '../images/project.png';\nimport priorityIcon from '../images/priority.png';\nimport confirmIcon from '../images/confirm.png';\nimport Calendar from './Calendar';\nimport EventLabelSelection from './EventLabelSelection';\nimport EventProjectSelection from './EventProjectSelection';\nimport EventPrioritySelection from './EventPrioritySelection';\nimport store from '../store';\nimport { getPreviousMonthDateObj, getNextMonthDateObj, getPreviousYearDateObj, getNextYearDateObj, goToPrevMonth, goToNextMonth, goToPrevYear, goToNextYear, setActiveDate} from '../utils/calendar';\nimport { updateEvent, setState } from '../actions/allEvents';\nimport { filterDisplayEvents } from '../actions/displayArea';\nimport { filterProject } from '../actions/projectArea';\nimport { updateState } from '../utils/server';\nimport { SINGLE_DATE_CALENDAR } from '../utils/constants';\n\nclass SingleEvent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: this.props.title,\n            text: this.props.text,\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            interfaceDisplay: 'none',\n            markDate: this.props.activeDate,\n            activeDate: this.props.activeDate,\n            activeLabels: this.props.activeLabels,\n            activeProjects: this.props.activeProjects,\n            activePriority: this.props.activePriority,\n        }\n        this.initialText = this.state.text;\n        this.initialMarkDate = [...this.state.markDate];\n        this.initialActiveDate = [...this.state.activeDate];\n        this.initialActiveLabels = [...this.state.activeLabels];\n        this.initialActiveProjects = [...this.state.activeProjects];\n        this.initialActivePriority = this.state.activePriority;\n    }\n    displayInterface() {\n        this.setState({\n            interfaceDisplay: this.state.interfaceDisplay === 'none' ? 'block' : 'none',\n            calendarDisplay: 'none',\n            labelsDisplay: 'none',\n            projectsDisplay: 'none',\n            priorityDisplay: 'none',\n            text: this.initialText,\n            markDate: this.initialMarkDate,\n            activeDate: this.initialActiveDate,\n            activeLabels: this.initialActiveLabels,\n            activeProjects: this.initialActiveProjects,\n            activePriority: this.initialActivePriority,\n        });\n    }\n    displayCalendar() {\n        if(this.state.calendarDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'block',\n                labelsDisplay: 'none',\n                projectsDisplay: 'none',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                calendarDisplay: 'none',\n            })\n        }\n    }\n    displayLabels() {\n        if(this.state.labelsDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'block',\n                projectsDisplay: 'none',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                labelsDisplay: 'none',\n            })\n        }\n    }\n    displayProjects() {\n        if(this.state.projectsDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'none',\n                projectsDisplay: 'block',\n                priorityDisplay: 'none',\n            });\n        }\n        else {\n            this.setState({\n                projectsDisplay: 'none',\n            })\n        }\n    }\n    displayPriority() {\n        if(this.state.priorityDisplay === 'none') {\n            this.setState({\n                calendarDisplay: 'none',\n                labelsDisplay: 'none',\n                projectsDisplay: 'none',\n                priorityDisplay: 'block',\n            });\n        }\n        else {\n            this.setState({\n                priorityDisplay: 'none',\n            })\n        }\n    }\n    setActiveLabels(e) {\n        let activeLabels = [...this.state.activeLabels];\n        if(e.target.checked) {\n            this.setState({\n                activeLabels: [...activeLabels, e.target.name]\n            })\n        }\n        else {\n            activeLabels.splice(activeLabels.indexOf(e.target.name), 1)\n            this.setState({\n                activeLabels: activeLabels\n            })\n        }\n    }\n    setActiveProjects(e) {\n        let activeProjects = [...this.state.activeProjects];\n        if(e.target.checked) {\n            this.setState({\n                activeProjects: [...activeProjects, e.target.name]\n            })\n        }\n        else {\n            activeProjects.splice(activeProjects.indexOf(e.target.name), 1)\n            this.setState({\n                activeProjects: activeProjects\n            })\n        }\n    }\n    setActivePriority(e) {\n        this.setState({\n            activePriority: e.target.value\n        })\n    }\n    async confirmChange() {\n        let event = {\n            title: this.state.title,\n            text: this.state.text,\n            activeDate: this.state.activeDate,\n            activeLabels: this.state.activeLabels,\n            activeProjects: this.state.activeProjects,\n            activePriority: this.state.activePriority,\n        }\n        await store.dispatch(updateEvent(event, this.props.eventIndex));\n        await store.dispatch(filterDisplayEvents(store.getState().allEvents.events));\n        await store.dispatch(filterProject(store.getState().allEvents.events));\n        await updateState();\n    }\n    async completeEvent() {\n        let newState = JSON.parse(JSON.stringify(store.getState().allEvents));\n        newState.events.splice(this.props.eventIndex, 1);\n        await store.dispatch(setState(newState));\n        await store.dispatch(filterDisplayEvents(store.getState().allEvents.events));\n        await store.dispatch(filterProject(store.getState().allEvents.events));\n        await updateState();\n    }\n    goToPrevYear() {\n        this.setState({\n            markDate: getPreviousYearDateObj(this.state.markDate)\n        })\n    }\n    goToNextYear() {\n        this.setState({\n            markDate: getNextYearDateObj(this.state.markDate)\n        })\n    }\n    goToPrevMonth() {\n        this.setState({\n            markDate: getPreviousMonthDateObj(this.state.markDate)\n        })\n    }\n    goToNextMonth() {\n        this.setState({\n            markDate: getNextMonthDateObj(this.state.markDate)\n        })\n    }\n    setActiveDate(date) {\n        let dateObj = this.state.markDate;\n        dateObj[2] = date;\n        this.setState({\n            markDate: dateObj,\n            activeDate: dateObj,\n        });\n    }\n    setText(e) {\n        this.setState({\n            text: e.target.value\n        })\n    }\n    render() {\n        return <div className='single-event'>\n                <div className='single-event-minimal'>\n                    <img className='check' src={check} onClick={this.completeEvent.bind(this)}></img>\n                    <span className='single-event-title' onClick={this.displayInterface.bind(this)}>{this.state.title}</span>\n                </div>\n                <div className='single-event-details' style={{display: this.state.interfaceDisplay}}>\n                    <textarea className='single-event-text' value={this.state.text} onChange={this.setText.bind(this)}></textarea>\n                    <div className='single-event-icons'>\n                        <img onClick={this.displayCalendar.bind(this)} className='single-event-icon' src={calendarIcon}/>\n                        <img onClick={this.displayLabels.bind(this)} className='single-event-icon' src={labelIcon}/>\n                        <img onClick={this.displayProjects.bind(this)} className='single-event-icon' src={projectIcon}/>\n                        <img onClick={this.displayPriority.bind(this)} className='single-event-icon' src={priorityIcon}/>\n                        <img onClick={this.confirmChange.bind(this)} src={confirmIcon} className='confirm-icon'/>\n                        <Calendar \n                            type={SINGLE_DATE_CALENDAR} \n                            display={this.state.calendarDisplay}\n                            setActiveDate={setActiveDate.bind(this)} \n                            markDate={this.state.markDate} \n                            activeDate={this.state.activeDate}\n                            goToPrevMonth={goToPrevMonth.bind(this)}\n                            goToNextMonth={goToNextMonth.bind(this)}\n                            goToPrevYear={goToPrevYear.bind(this)}\n                            goToNextYear={goToNextYear.bind(this)}/>\n                        <EventLabelSelection eventIndex={this.props.eventIndex} display={this.state.labelsDisplay} activeLabels={this.state.activeLabels} setActiveLabels={this.setActiveLabels.bind(this)}/>\n                        <EventProjectSelection eventIndex={this.props.eventIndex} display={this.state.projectsDisplay} activeProjects={this.state.activeProjects} setActiveProjects={this.setActiveProjects.bind(this)}/>\n                        <EventPrioritySelection eventIndex={this.props.eventIndex} display={this.state.priorityDisplay} activePriority={this.state.activePriority} setActivePriority={this.setActivePriority.bind(this)}/>\n                    </div>\n                </div>\n            </div>\n    }\n}\n\nexport default SingleEvent;"]},"metadata":{},"sourceType":"module"}